
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="yuygfgg">
      
      
      
        <link rel="prev" href="../morpho/">
      
      
        <link rel="next" href="../rescale/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>resample - y5gfunc</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#y5gfuncfilterresample" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="y5gfunc" class="md-header__button md-logo" aria-label="y5gfunc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            y5gfunc
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              resample
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/yuygfgg/y5gfunc" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    yuygfgg/y5gfunc
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../utils/" class="md-tabs__link">
          
  
  
  API

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="y5gfunc" class="md-nav__button md-logo" aria-label="y5gfunc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    y5gfunc
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/yuygfgg/y5gfunc" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    yuygfgg/y5gfunc
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Encode
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Encode
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../encode/chapter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    chapter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../encode/mux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mux
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../encode/qc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    qc
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../encode/subtitle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    subtitle
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../encode/utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../encode/video/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    video
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_2_7" id="__nav_2_2_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Audio
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_7">
            <span class="md-nav__icon md-icon"></span>
            Audio
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../encode/audio/audio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    audio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../encode/audio/audio_config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    audio_config
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../encode/audio/utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Expr
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Expr
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../expr/emulator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    emulator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../expr/expr_utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    expr_utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../expr/infix2postfix/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    infix2postfix
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../expr/optimize/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    optimize
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../expr/postfix2infix/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    postfix2infix
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../expr/test_atan2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    test_atan2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../expr/transform/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    transform
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../expr/utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../expr/verify/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    verify
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" checked>
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Filter
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Filter
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aa/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    aa
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deband/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    deband
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../denoise/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    denoise
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ivtc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ivtc
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mask/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mask
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../morpho/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    morpho
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    resample
    
  </span>
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rescale/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rescale
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scenecut/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    scenecut
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stripe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    stripe
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../temporal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    temporal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tonemap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    tonemap
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Preview
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Preview
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../preview/output/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    output
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../preview/screen_shot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    screen_shot
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Shader
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Shader
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../shader/chroma/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    chroma
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../shader/superes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    superes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../shader/lazy_loader/lazy_loader/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    lazy_loader
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Source
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            Source
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/rpu/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    rpu
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/source/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    source
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/timecodes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    timecodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_4" >
        
          
          <label class="md-nav__link" for="__nav_2_7_4" id="__nav_2_7_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Wobbly
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7_4">
            <span class="md-nav__icon md-icon"></span>
            Wobbly
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/wobbly/errors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    errors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/wobbly/types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/wobbly/utils/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    utils
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_4_4" >
        
          
          <label class="md-nav__link" for="__nav_2_7_4_4" id="__nav_2_7_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Core
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_7_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7_4_4">
            <span class="md-nav__icon md-icon"></span>
            Core
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/wobbly/core/context/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    context
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/wobbly/core/presets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    presets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/wobbly/core/source/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    source
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_4_5" >
        
          
          <label class="md-nav__link" for="__nav_2_7_4_5" id="__nav_2_7_4_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Io
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_7_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7_4_5">
            <span class="md-nav__icon md-icon"></span>
            Io
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/wobbly/io/json/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    json
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/wobbly/io/video/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    video
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_4_6" >
        
          
          <label class="md-nav__link" for="__nav_2_7_4_6" id="__nav_2_7_4_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Processors
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_7_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7_4_6">
            <span class="md-nav__icon md-icon"></span>
            Processors
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/wobbly/processors/base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    base
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/wobbly/processors/crop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    crop
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/wobbly/processors/custom_lists/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    custom_lists
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/wobbly/processors/resize/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    resize
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/wobbly/processors/sections/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sections
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/wobbly/processors/special_frames/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    special_frames
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/wobbly/processors/trim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    trim
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7_4_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7_4_7" id="__nav_2_7_4_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Timecodes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_7_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7_4_7">
            <span class="md-nav__icon md-icon"></span>
            Timecodes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/wobbly/timecodes/base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    base
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/wobbly/timecodes/v1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    v1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../source/wobbly/timecodes/v2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    v2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8" >
        
          
          <label class="md-nav__link" for="__nav_2_8" id="__nav_2_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Vfx
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            Vfx
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../vfx/draw_2d/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    draw_2d
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../vfx/draw_3d/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    draw_3d
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../vfx/misc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    misc
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="y5gfuncfilterresample"><code>y5gfunc.filter.resample</code><a class="headerlink" href="#y5gfuncfilterresample" title="Permanent link">&para;</a></h1>


<div class="doc doc-object doc-module">



<h1 id="y5gfunc.filter.resample" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-module"></code>            <span class="doc doc-object-name doc-module-name">resample</span>


<a href="#y5gfunc.filter.resample" class="headerlink" title="Permanent link">&para;</a></h1>

    <div class="doc doc-contents first">








<p><span class="doc-section-title">Classes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            ColorMatrixManager (y5gfunc.filter.resample.ColorMatrixManager)" href="#y5gfunc.filter.resample.ColorMatrixManager">ColorMatrixManager</a></code></td>
            <td>
              <div class="doc-md-description">
                <p>Manager for a specific RGB-OPP conversion matrix and its related transformations.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Functions:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            register_opp_matrix (y5gfunc.filter.resample.register_opp_matrix)" href="#y5gfunc.filter.resample.register_opp_matrix">register_opp_matrix</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Register a new OPP matrix variant and create its manager.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            yuv2opp (y5gfunc.filter.resample.yuv2opp)" href="#y5gfunc.filter.resample.yuv2opp">yuv2opp</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Convert YUV to OPP color space.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            opp2yuv (y5gfunc.filter.resample.opp2yuv)" href="#y5gfunc.filter.resample.opp2yuv">opp2yuv</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Convert OPP to YUV color space.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            rgb2opp (y5gfunc.filter.resample.rgb2opp)" href="#y5gfunc.filter.resample.rgb2opp">rgb2opp</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Convert RGB to OPP color space.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            opp2rgb (y5gfunc.filter.resample.opp2rgb)" href="#y5gfunc.filter.resample.opp2rgb">opp2rgb</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Convert OPP to RGB color space.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            nn2x (y5gfunc.filter.resample.nn2x)" href="#y5gfunc.filter.resample.nn2x">nn2x</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Doubles the resolution of input clip with nnedi3.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            Gammarize (y5gfunc.filter.resample.Gammarize)" href="#y5gfunc.filter.resample.Gammarize">Gammarize</a></code></td>
              <td>
                <div class="doc-md-description">
                  
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            SSIM_downsample (y5gfunc.filter.resample.SSIM_downsample)" href="#y5gfunc.filter.resample.SSIM_downsample">SSIM_downsample</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>SSIM downsampler</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            Descale (y5gfunc.filter.resample.Descale)" href="#y5gfunc.filter.resample.Descale">Descale</a></code></td>
              <td>
                <div class="doc-md-description">
                  
                </div>
              </td>
            </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            STANDARD_OPP


  
      module-attribute
   (y5gfunc.filter.resample.STANDARD_OPP)" href="#y5gfunc.filter.resample.STANDARD_OPP">STANDARD_OPP</a></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            NORMALIZED_OPP


  
      module-attribute
   (y5gfunc.filter.resample.NORMALIZED_OPP)" href="#y5gfunc.filter.resample.NORMALIZED_OPP">NORMALIZED_OPP</a></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            MAWEN_OPP


  
      module-attribute
   (y5gfunc.filter.resample.MAWEN_OPP)" href="#y5gfunc.filter.resample.MAWEN_OPP">MAWEN_OPP</a></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            default_opp


  
      module-attribute
   (y5gfunc.filter.resample.default_opp)" href="#y5gfunc.filter.resample.default_opp">default_opp</a></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h2 id="y5gfunc.filter.resample.STANDARD_OPP" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">STANDARD_OPP</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#y5gfunc.filter.resample.STANDARD_OPP" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">STANDARD_OPP</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="            register_opp_matrix (y5gfunc.filter.resample.register_opp_matrix)" href="#y5gfunc.filter.resample.register_opp_matrix">register_opp_matrix</a></span><span class="p">(</span><span class="s1">&#39;standard&#39;</span><span class="p">,</span> <span class="n"><span title="sympy.Matrix">Matrix</span></span><span class="p">([[</span><span class="n"><span title="sympy.Rational">Rational</span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n"><span title="sympy.Rational">Rational</span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n"><span title="sympy.Rational">Rational</span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)],</span> <span class="p">[</span><span class="n"><span title="sympy.Rational">Rational</span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n"><span title="sympy.Rational">Rational</span></span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n"><span title="sympy.Rational">Rational</span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n"><span title="sympy.Rational">Rational</span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n"><span title="sympy.Rational">Rational</span></span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]]))</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="y5gfunc.filter.resample.NORMALIZED_OPP" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">NORMALIZED_OPP</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#y5gfunc.filter.resample.NORMALIZED_OPP" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">NORMALIZED_OPP</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="            register_opp_matrix (y5gfunc.filter.resample.register_opp_matrix)" href="#y5gfunc.filter.resample.register_opp_matrix">register_opp_matrix</a></span><span class="p">(</span><span class="s1">&#39;normalized&#39;</span><span class="p">,</span> <span class="n"><span title="sympy.Matrix">Matrix</span></span><span class="p">([[</span><span class="n"><span title="sympy.Rational">Rational</span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n"><span title="sympy.Rational">Rational</span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n"><span title="sympy.Rational">Rational</span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)],</span> <span class="p">[</span><span class="n"><span title="sympy.S">S</span></span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="n"><span title="sympy.sqrt">sqrt</span></span><span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="n"><span title="sympy.S">S</span></span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="n"><span title="sympy.sqrt">sqrt</span></span><span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="n"><span title="sympy.S">S</span></span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="n"><span title="sympy.sqrt">sqrt</span></span><span class="p">(</span><span class="mi">18</span><span class="p">),</span> <span class="n"><span title="sympy.S">S</span></span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="n"><span title="sympy.sqrt">sqrt</span></span><span class="p">(</span><span class="mi">18</span><span class="p">),</span> <span class="n"><span title="sympy.S">S</span></span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="n"><span title="sympy.sqrt">sqrt</span></span><span class="p">(</span><span class="mi">18</span><span class="p">)]]))</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="y5gfunc.filter.resample.MAWEN_OPP" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">MAWEN_OPP</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#y5gfunc.filter.resample.MAWEN_OPP" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">MAWEN_OPP</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="            register_opp_matrix (y5gfunc.filter.resample.register_opp_matrix)" href="#y5gfunc.filter.resample.register_opp_matrix">register_opp_matrix</a></span><span class="p">(</span><span class="s1">&#39;mawen&#39;</span><span class="p">,</span> <span class="n"><span title="sympy.Matrix">Matrix</span></span><span class="p">([[</span><span class="n"><span title="sympy.Rational">Rational</span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n"><span title="sympy.Rational">Rational</span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n"><span title="sympy.Rational">Rational</span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)],</span> <span class="p">[</span><span class="n"><span title="sympy.Rational">Rational</span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n"><span title="sympy.Rational">Rational</span></span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)],</span> <span class="p">[</span><span class="n"><span title="sympy.Rational">Rational</span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n"><span title="sympy.Rational">Rational</span></span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="n"><span title="sympy.Rational">Rational</span></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)]]))</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h2 id="y5gfunc.filter.resample.default_opp" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">default_opp</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-module-attribute"><code>module-attribute</code></small>
  </span>

<a href="#y5gfunc.filter.resample.default_opp" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">default_opp</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="            STANDARD_OPP


  
      module-attribute
   (y5gfunc.filter.resample.STANDARD_OPP)" href="#y5gfunc.filter.resample.STANDARD_OPP">STANDARD_OPP</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>


<div class="doc doc-object doc-class">



<h2 id="y5gfunc.filter.resample.ColorMatrixManager" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">ColorMatrixManager</span>


<a href="#y5gfunc.filter.resample.ColorMatrixManager" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">ColorMatrixManager</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="rgb_opp_matrix (y5gfunc.filter.resample.ColorMatrixManager(rgb_opp_matrix))" href="#y5gfunc.filter.resample.ColorMatrixManager(rgb_opp_matrix)">rgb_opp_matrix</a></span><span class="p">:</span> <span class="n"><span title="sympy.Matrix">Matrix</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="name (y5gfunc.filter.resample.ColorMatrixManager(name))" href="#y5gfunc.filter.resample.ColorMatrixManager(name)">name</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">


        <p>Manager for a specific RGB-OPP conversion matrix and its related transformations.</p>

        <p>Initialize the ColorMatrixManager with a specific RGB to OPP matrix.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.ColorMatrixManager(rgb_opp_matrix)" class="doc doc-heading doc-heading-parameter">                  <code>rgb_opp_matrix</code>
<a href="#y5gfunc.filter.resample.ColorMatrixManager(rgb_opp_matrix)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><span title="sympy.Matrix">Matrix</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A 3x3 sympy.Matrix for RGB to OPP conversion</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.ColorMatrixManager(name)" class="doc doc-heading doc-heading-parameter">                  <code>name</code>
<a href="#y5gfunc.filter.resample.ColorMatrixManager(name)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Identifier for this specific OPP transform variant</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>










<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            register_yuv_matrix (y5gfunc.filter.resample.ColorMatrixManager.register_yuv_matrix)" href="#y5gfunc.filter.resample.ColorMatrixManager.register_yuv_matrix">register_yuv_matrix</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Register a YUV to RGB matrix type.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            initialize (y5gfunc.filter.resample.ColorMatrixManager.initialize)" href="#y5gfunc.filter.resample.ColorMatrixManager.initialize">initialize</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Initialize all matrices and coefficients.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_yuv_to_opp_coefs (y5gfunc.filter.resample.ColorMatrixManager.get_yuv_to_opp_coefs)" href="#y5gfunc.filter.resample.ColorMatrixManager.get_yuv_to_opp_coefs">get_yuv_to_opp_coefs</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Get YUV to OPP conversion coefficients for a specific matrix type.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_opp_to_yuv_coefs (y5gfunc.filter.resample.ColorMatrixManager.get_opp_to_yuv_coefs)" href="#y5gfunc.filter.resample.ColorMatrixManager.get_opp_to_yuv_coefs">get_opp_to_yuv_coefs</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Get OPP to YUV conversion coefficients for a specific matrix type.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_rgb_to_opp_coefs (y5gfunc.filter.resample.ColorMatrixManager.get_rgb_to_opp_coefs)" href="#y5gfunc.filter.resample.ColorMatrixManager.get_rgb_to_opp_coefs">get_rgb_to_opp_coefs</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Get RGB to OPP conversion coefficients.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="            get_opp_to_rgb_coefs (y5gfunc.filter.resample.ColorMatrixManager.get_opp_to_rgb_coefs)" href="#y5gfunc.filter.resample.ColorMatrixManager.get_opp_to_rgb_coefs">get_opp_to_rgb_coefs</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Get OPP to RGB conversion coefficients.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>




<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="            name


  
      instance-attribute
   (y5gfunc.filter.resample.ColorMatrixManager.name)" href="#y5gfunc.filter.resample.ColorMatrixManager.name">name</a></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>

                  <details class="quote">
                    <summary>Source code in <code>y5gfunc/filter/resample.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-26">26</a></span>
<span class="normal"><a href="#__codelineno-0-27">27</a></span>
<span class="normal"><a href="#__codelineno-0-28">28</a></span>
<span class="normal"><a href="#__codelineno-0-29">29</a></span>
<span class="normal"><a href="#__codelineno-0-30">30</a></span>
<span class="normal"><a href="#__codelineno-0-31">31</a></span>
<span class="normal"><a href="#__codelineno-0-32">32</a></span>
<span class="normal"><a href="#__codelineno-0-33">33</a></span>
<span class="normal"><a href="#__codelineno-0-34">34</a></span>
<span class="normal"><a href="#__codelineno-0-35">35</a></span>
<span class="normal"><a href="#__codelineno-0-36">36</a></span>
<span class="normal"><a href="#__codelineno-0-37">37</a></span>
<span class="normal"><a href="#__codelineno-0-38">38</a></span>
<span class="normal"><a href="#__codelineno-0-39">39</a></span>
<span class="normal"><a href="#__codelineno-0-40">40</a></span>
<span class="normal"><a href="#__codelineno-0-41">41</a></span>
<span class="normal"><a href="#__codelineno-0-42">42</a></span>
<span class="normal"><a href="#__codelineno-0-43">43</a></span>
<span class="normal"><a href="#__codelineno-0-44">44</a></span>
<span class="normal"><a href="#__codelineno-0-45">45</a></span>
<span class="normal"><a href="#__codelineno-0-46">46</a></span>
<span class="normal"><a href="#__codelineno-0-47">47</a></span>
<span class="normal"><a href="#__codelineno-0-48">48</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-26" name="__codelineno-0-26"></a><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rgb_opp_matrix</span><span class="p">:</span> <span class="n">sympy</span><span class="o">.</span><span class="n">Matrix</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<a id="__codelineno-0-27" name="__codelineno-0-27"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-28" name="__codelineno-0-28"></a><span class="sd">    Initialize the ColorMatrixManager with a specific RGB to OPP matrix.</span>
<a id="__codelineno-0-29" name="__codelineno-0-29"></a>
<a id="__codelineno-0-30" name="__codelineno-0-30"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-31" name="__codelineno-0-31"></a><span class="sd">        rgb_opp_matrix: A 3x3 sympy.Matrix for RGB to OPP conversion</span>
<a id="__codelineno-0-32" name="__codelineno-0-32"></a><span class="sd">        name: Identifier for this specific OPP transform variant</span>
<a id="__codelineno-0-33" name="__codelineno-0-33"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-34" name="__codelineno-0-34"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_rgb_opp_matrix</span> <span class="o">=</span> <span class="n">rgb_opp_matrix</span>
<a id="__codelineno-0-35" name="__codelineno-0-35"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_rgb_from_opp_matrix</span> <span class="o">=</span> <span class="n">rgb_opp_matrix</span><span class="o">.</span><span class="n">inv</span><span class="p">()</span>
<a id="__codelineno-0-36" name="__codelineno-0-36"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
<a id="__codelineno-0-37" name="__codelineno-0-37"></a>
<a id="__codelineno-0-38" name="__codelineno-0-38"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_yuv_to_rgb_matrices</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">vstools</span><span class="o">.</span><span class="n">Matrix</span><span class="p">,</span> <span class="n">sympy</span><span class="o">.</span><span class="n">Matrix</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-39" name="__codelineno-0-39"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_yuv_to_opp_matrices</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">vstools</span><span class="o">.</span><span class="n">Matrix</span><span class="p">,</span> <span class="n">sympy</span><span class="o">.</span><span class="n">Matrix</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-40" name="__codelineno-0-40"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_opp_to_yuv_matrices</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">vstools</span><span class="o">.</span><span class="n">Matrix</span><span class="p">,</span> <span class="n">sympy</span><span class="o">.</span><span class="n">Matrix</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-41" name="__codelineno-0-41"></a>
<a id="__codelineno-0-42" name="__codelineno-0-42"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_yuv_to_opp_coefs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">vstools</span><span class="o">.</span><span class="n">Matrix</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-43" name="__codelineno-0-43"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_opp_to_yuv_coefs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="n">vstools</span><span class="o">.</span><span class="n">Matrix</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-44" name="__codelineno-0-44"></a>
<a id="__codelineno-0-45" name="__codelineno-0-45"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_rgb_to_opp_coefs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-46" name="__codelineno-0-46"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_opp_to_rgb_coefs</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<a id="__codelineno-0-47" name="__codelineno-0-47"></a>
<a id="__codelineno-0-48" name="__codelineno-0-48"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="y5gfunc.filter.resample.ColorMatrixManager.name" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>            <span class="doc doc-object-name doc-attribute-name">name</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#y5gfunc.filter.resample.ColorMatrixManager.name" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">name</span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="name (y5gfunc.filter.resample.ColorMatrixManager(name))" href="#y5gfunc.filter.resample.ColorMatrixManager(name)">name</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>



<div class="doc doc-object doc-function">


<h3 id="y5gfunc.filter.resample.ColorMatrixManager.register_yuv_matrix" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">register_yuv_matrix</span>


<a href="#y5gfunc.filter.resample.ColorMatrixManager.register_yuv_matrix" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">register_yuv_matrix</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="matrix_ids (y5gfunc.filter.resample.ColorMatrixManager.register_yuv_matrix(matrix_ids))" href="#y5gfunc.filter.resample.ColorMatrixManager.register_yuv_matrix(matrix_ids)">matrix_ids</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="vstools.Matrix" href="https://sgt0.github.io/jet-docs/api/vstools/enums/color/#vstools.enums.color.Matrix">Matrix</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="vstools.Matrix" href="https://sgt0.github.io/jet-docs/api/vstools/enums/color/#vstools.enums.color.Matrix">Matrix</a></span><span class="p">]],</span> <span class="n"><a class="autorefs autorefs-internal" title="yuv_to_rgb_matrix (y5gfunc.filter.resample.ColorMatrixManager.register_yuv_matrix(yuv_to_rgb_matrix))" href="#y5gfunc.filter.resample.ColorMatrixManager.register_yuv_matrix(yuv_to_rgb_matrix)">yuv_to_rgb_matrix</a></span><span class="p">:</span> <span class="n"><span title="sympy.Matrix">Matrix</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Register a YUV to RGB matrix type.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
<h4 id="y5gfunc.filter.resample.ColorMatrixManager.register_yuv_matrix(matrix_ids)" class="doc doc-heading doc-heading-parameter">                  <code>matrix_ids</code>
<a href="#y5gfunc.filter.resample.ColorMatrixManager.register_yuv_matrix(matrix_ids)" class="headerlink" title="Permanent link">&para;</a></h4>            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" title="vstools.Matrix" href="https://sgt0.github.io/jet-docs/api/vstools/enums/color/#vstools.enums.color.Matrix">Matrix</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" title="vstools.Matrix" href="https://sgt0.github.io/jet-docs/api/vstools/enums/color/#vstools.enums.color.Matrix">Matrix</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The matrix id</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h4 id="y5gfunc.filter.resample.ColorMatrixManager.register_yuv_matrix(yuv_to_rgb_matrix)" class="doc doc-heading doc-heading-parameter">                  <code>yuv_to_rgb_matrix</code>
<a href="#y5gfunc.filter.resample.ColorMatrixManager.register_yuv_matrix(yuv_to_rgb_matrix)" class="headerlink" title="Permanent link">&para;</a></h4>            </td>
            <td>
                  <code><span title="sympy.Matrix">Matrix</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A sympy 3x3 Matrix representing YUV-&gt;RGB conversion</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>y5gfunc/filter/resample.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-50">50</a></span>
<span class="normal"><a href="#__codelineno-0-51">51</a></span>
<span class="normal"><a href="#__codelineno-0-52">52</a></span>
<span class="normal"><a href="#__codelineno-0-53">53</a></span>
<span class="normal"><a href="#__codelineno-0-54">54</a></span>
<span class="normal"><a href="#__codelineno-0-55">55</a></span>
<span class="normal"><a href="#__codelineno-0-56">56</a></span>
<span class="normal"><a href="#__codelineno-0-57">57</a></span>
<span class="normal"><a href="#__codelineno-0-58">58</a></span>
<span class="normal"><a href="#__codelineno-0-59">59</a></span>
<span class="normal"><a href="#__codelineno-0-60">60</a></span>
<span class="normal"><a href="#__codelineno-0-61">61</a></span>
<span class="normal"><a href="#__codelineno-0-62">62</a></span>
<span class="normal"><a href="#__codelineno-0-63">63</a></span>
<span class="normal"><a href="#__codelineno-0-64">64</a></span>
<span class="normal"><a href="#__codelineno-0-65">65</a></span>
<span class="normal"><a href="#__codelineno-0-66">66</a></span>
<span class="normal"><a href="#__codelineno-0-67">67</a></span>
<span class="normal"><a href="#__codelineno-0-68">68</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-50" name="__codelineno-0-50"></a><span class="k">def</span><span class="w"> </span><span class="nf">register_yuv_matrix</span><span class="p">(</span>
<a id="__codelineno-0-51" name="__codelineno-0-51"></a>    <span class="bp">self</span><span class="p">,</span>
<a id="__codelineno-0-52" name="__codelineno-0-52"></a>    <span class="n">matrix_ids</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">vstools</span><span class="o">.</span><span class="n">Matrix</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="n">vstools</span><span class="o">.</span><span class="n">Matrix</span><span class="p">]],</span>
<a id="__codelineno-0-53" name="__codelineno-0-53"></a>    <span class="n">yuv_to_rgb_matrix</span><span class="p">:</span> <span class="n">sympy</span><span class="o">.</span><span class="n">Matrix</span><span class="p">,</span>
<a id="__codelineno-0-54" name="__codelineno-0-54"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-55" name="__codelineno-0-55"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-56" name="__codelineno-0-56"></a><span class="sd">    Register a YUV to RGB matrix type.</span>
<a id="__codelineno-0-57" name="__codelineno-0-57"></a>
<a id="__codelineno-0-58" name="__codelineno-0-58"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-59" name="__codelineno-0-59"></a><span class="sd">        matrix_ids: The matrix id</span>
<a id="__codelineno-0-60" name="__codelineno-0-60"></a><span class="sd">        yuv_to_rgb_matrix: A sympy 3x3 Matrix representing YUV-&gt;RGB conversion</span>
<a id="__codelineno-0-61" name="__codelineno-0-61"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-62" name="__codelineno-0-62"></a>    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">matrix_ids</span><span class="p">,</span> <span class="n">vstools</span><span class="o">.</span><span class="n">Matrix</span><span class="p">):</span>
<a id="__codelineno-0-63" name="__codelineno-0-63"></a>        <span class="n">matrix_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">matrix_ids</span><span class="p">]</span>
<a id="__codelineno-0-64" name="__codelineno-0-64"></a>
<a id="__codelineno-0-65" name="__codelineno-0-65"></a>    <span class="k">for</span> <span class="n">matrix_id</span> <span class="ow">in</span> <span class="n">matrix_ids</span><span class="p">:</span>
<a id="__codelineno-0-66" name="__codelineno-0-66"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_yuv_to_rgb_matrices</span><span class="p">[</span><span class="n">matrix_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">yuv_to_rgb_matrix</span>
<a id="__codelineno-0-67" name="__codelineno-0-67"></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span><span class="p">:</span>
<a id="__codelineno-0-68" name="__codelineno-0-68"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_recalculate_for_matrix</span><span class="p">(</span><span class="n">matrix_id</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="y5gfunc.filter.resample.ColorMatrixManager.initialize" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">initialize</span>


<a href="#y5gfunc.filter.resample.ColorMatrixManager.initialize" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">initialize</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Initialize all matrices and coefficients.</p>


            <details class="quote">
              <summary>Source code in <code>y5gfunc/filter/resample.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-97"> 97</a></span>
<span class="normal"><a href="#__codelineno-0-98"> 98</a></span>
<span class="normal"><a href="#__codelineno-0-99"> 99</a></span>
<span class="normal"><a href="#__codelineno-0-100">100</a></span>
<span class="normal"><a href="#__codelineno-0-101">101</a></span>
<span class="normal"><a href="#__codelineno-0-102">102</a></span>
<span class="normal"><a href="#__codelineno-0-103">103</a></span>
<span class="normal"><a href="#__codelineno-0-104">104</a></span>
<span class="normal"><a href="#__codelineno-0-105">105</a></span>
<span class="normal"><a href="#__codelineno-0-106">106</a></span>
<span class="normal"><a href="#__codelineno-0-107">107</a></span>
<span class="normal"><a href="#__codelineno-0-108">108</a></span>
<span class="normal"><a href="#__codelineno-0-109">109</a></span>
<span class="normal"><a href="#__codelineno-0-110">110</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-97" name="__codelineno-0-97"></a><span class="k">def</span><span class="w"> </span><span class="nf">initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-98" name="__codelineno-0-98"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize all matrices and coefficients.&quot;&quot;&quot;</span>
<a id="__codelineno-0-99" name="__codelineno-0-99"></a>    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span><span class="p">:</span>
<a id="__codelineno-0-100" name="__codelineno-0-100"></a>        <span class="k">return</span>
<a id="__codelineno-0-101" name="__codelineno-0-101"></a>
<a id="__codelineno-0-102" name="__codelineno-0-102"></a>    <span class="c1"># Calculate direct RGBOPP coefficients</span>
<a id="__codelineno-0-103" name="__codelineno-0-103"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_rgb_to_opp_coefs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_matrix_to_coefs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_rgb_opp_matrix</span><span class="p">)</span>
<a id="__codelineno-0-104" name="__codelineno-0-104"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_opp_to_rgb_coefs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_matrix_to_coefs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_rgb_from_opp_matrix</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
<a id="__codelineno-0-105" name="__codelineno-0-105"></a>
<a id="__codelineno-0-106" name="__codelineno-0-106"></a>    <span class="c1"># Calculate matrices and coefficients for all registered matrix types</span>
<a id="__codelineno-0-107" name="__codelineno-0-107"></a>    <span class="k">for</span> <span class="n">matrix_type</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_yuv_to_rgb_matrices</span><span class="p">:</span>
<a id="__codelineno-0-108" name="__codelineno-0-108"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_recalculate_for_matrix</span><span class="p">(</span><span class="n">matrix_type</span><span class="p">)</span>
<a id="__codelineno-0-109" name="__codelineno-0-109"></a>
<a id="__codelineno-0-110" name="__codelineno-0-110"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="y5gfunc.filter.resample.ColorMatrixManager.get_yuv_to_opp_coefs" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_yuv_to_opp_coefs</span>


<a href="#y5gfunc.filter.resample.ColorMatrixManager.get_yuv_to_opp_coefs" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_yuv_to_opp_coefs</span><span class="p">(</span><span class="n"><span title="y5gfunc.filter.resample.ColorMatrixManager.get_yuv_to_opp_coefs(matrix_type)">matrix_type</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="vstools.Matrix" href="https://sgt0.github.io/jet-docs/api/vstools/enums/color/#vstools.enums.color.Matrix">Matrix</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get YUV to OPP conversion coefficients for a specific matrix type.</p>


            <details class="quote">
              <summary>Source code in <code>y5gfunc/filter/resample.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-112">112</a></span>
<span class="normal"><a href="#__codelineno-0-113">113</a></span>
<span class="normal"><a href="#__codelineno-0-114">114</a></span>
<span class="normal"><a href="#__codelineno-0-115">115</a></span>
<span class="normal"><a href="#__codelineno-0-116">116</a></span>
<span class="normal"><a href="#__codelineno-0-117">117</a></span>
<span class="normal"><a href="#__codelineno-0-118">118</a></span>
<span class="normal"><a href="#__codelineno-0-119">119</a></span>
<span class="normal"><a href="#__codelineno-0-120">120</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-112" name="__codelineno-0-112"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_yuv_to_opp_coefs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix_type</span><span class="p">:</span> <span class="n">vstools</span><span class="o">.</span><span class="n">Matrix</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
<a id="__codelineno-0-113" name="__codelineno-0-113"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get YUV to OPP conversion coefficients for a specific matrix type.&quot;&quot;&quot;</span>
<a id="__codelineno-0-114" name="__codelineno-0-114"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span><span class="p">:</span>
<a id="__codelineno-0-115" name="__codelineno-0-115"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<a id="__codelineno-0-116" name="__codelineno-0-116"></a>
<a id="__codelineno-0-117" name="__codelineno-0-117"></a>    <span class="k">if</span> <span class="n">matrix_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_yuv_to_opp_coefs</span><span class="p">:</span>
<a id="__codelineno-0-118" name="__codelineno-0-118"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported matrix type: </span><span class="si">{</span><span class="n">matrix_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-119" name="__codelineno-0-119"></a>
<a id="__codelineno-0-120" name="__codelineno-0-120"></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_yuv_to_opp_coefs</span><span class="p">[</span><span class="n">matrix_type</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="y5gfunc.filter.resample.ColorMatrixManager.get_opp_to_yuv_coefs" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_opp_to_yuv_coefs</span>


<a href="#y5gfunc.filter.resample.ColorMatrixManager.get_opp_to_yuv_coefs" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_opp_to_yuv_coefs</span><span class="p">(</span><span class="n"><span title="y5gfunc.filter.resample.ColorMatrixManager.get_opp_to_yuv_coefs(matrix_type)">matrix_type</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="vstools.Matrix" href="https://sgt0.github.io/jet-docs/api/vstools/enums/color/#vstools.enums.color.Matrix">Matrix</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get OPP to YUV conversion coefficients for a specific matrix type.</p>


            <details class="quote">
              <summary>Source code in <code>y5gfunc/filter/resample.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-122">122</a></span>
<span class="normal"><a href="#__codelineno-0-123">123</a></span>
<span class="normal"><a href="#__codelineno-0-124">124</a></span>
<span class="normal"><a href="#__codelineno-0-125">125</a></span>
<span class="normal"><a href="#__codelineno-0-126">126</a></span>
<span class="normal"><a href="#__codelineno-0-127">127</a></span>
<span class="normal"><a href="#__codelineno-0-128">128</a></span>
<span class="normal"><a href="#__codelineno-0-129">129</a></span>
<span class="normal"><a href="#__codelineno-0-130">130</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-122" name="__codelineno-0-122"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_opp_to_yuv_coefs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">matrix_type</span><span class="p">:</span> <span class="n">vstools</span><span class="o">.</span><span class="n">Matrix</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
<a id="__codelineno-0-123" name="__codelineno-0-123"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get OPP to YUV conversion coefficients for a specific matrix type.&quot;&quot;&quot;</span>
<a id="__codelineno-0-124" name="__codelineno-0-124"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span><span class="p">:</span>
<a id="__codelineno-0-125" name="__codelineno-0-125"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<a id="__codelineno-0-126" name="__codelineno-0-126"></a>
<a id="__codelineno-0-127" name="__codelineno-0-127"></a>    <span class="k">if</span> <span class="n">matrix_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_opp_to_yuv_coefs</span><span class="p">:</span>
<a id="__codelineno-0-128" name="__codelineno-0-128"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unsupported matrix type: </span><span class="si">{</span><span class="n">matrix_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-129" name="__codelineno-0-129"></a>
<a id="__codelineno-0-130" name="__codelineno-0-130"></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_opp_to_yuv_coefs</span><span class="p">[</span><span class="n">matrix_type</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="y5gfunc.filter.resample.ColorMatrixManager.get_rgb_to_opp_coefs" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_rgb_to_opp_coefs</span>


<a href="#y5gfunc.filter.resample.ColorMatrixManager.get_rgb_to_opp_coefs" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_rgb_to_opp_coefs</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get RGB to OPP conversion coefficients.</p>


            <details class="quote">
              <summary>Source code in <code>y5gfunc/filter/resample.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-132">132</a></span>
<span class="normal"><a href="#__codelineno-0-133">133</a></span>
<span class="normal"><a href="#__codelineno-0-134">134</a></span>
<span class="normal"><a href="#__codelineno-0-135">135</a></span>
<span class="normal"><a href="#__codelineno-0-136">136</a></span>
<span class="normal"><a href="#__codelineno-0-137">137</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-132" name="__codelineno-0-132"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_rgb_to_opp_coefs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
<a id="__codelineno-0-133" name="__codelineno-0-133"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get RGB to OPP conversion coefficients.&quot;&quot;&quot;</span>
<a id="__codelineno-0-134" name="__codelineno-0-134"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span><span class="p">:</span>
<a id="__codelineno-0-135" name="__codelineno-0-135"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<a id="__codelineno-0-136" name="__codelineno-0-136"></a>
<a id="__codelineno-0-137" name="__codelineno-0-137"></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rgb_to_opp_coefs</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="y5gfunc.filter.resample.ColorMatrixManager.get_opp_to_rgb_coefs" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get_opp_to_rgb_coefs</span>


<a href="#y5gfunc.filter.resample.ColorMatrixManager.get_opp_to_rgb_coefs" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">get_opp_to_rgb_coefs</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get OPP to RGB conversion coefficients.</p>


            <details class="quote">
              <summary>Source code in <code>y5gfunc/filter/resample.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-139">139</a></span>
<span class="normal"><a href="#__codelineno-0-140">140</a></span>
<span class="normal"><a href="#__codelineno-0-141">141</a></span>
<span class="normal"><a href="#__codelineno-0-142">142</a></span>
<span class="normal"><a href="#__codelineno-0-143">143</a></span>
<span class="normal"><a href="#__codelineno-0-144">144</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-139" name="__codelineno-0-139"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_opp_to_rgb_coefs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
<a id="__codelineno-0-140" name="__codelineno-0-140"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Get OPP to RGB conversion coefficients.&quot;&quot;&quot;</span>
<a id="__codelineno-0-141" name="__codelineno-0-141"></a>    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialized</span><span class="p">:</span>
<a id="__codelineno-0-142" name="__codelineno-0-142"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<a id="__codelineno-0-143" name="__codelineno-0-143"></a>
<a id="__codelineno-0-144" name="__codelineno-0-144"></a>    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_opp_to_rgb_coefs</span>  <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="y5gfunc.filter.resample.register_opp_matrix" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">register_opp_matrix</span>


<a href="#y5gfunc.filter.resample.register_opp_matrix" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">register_opp_matrix</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="name (y5gfunc.filter.resample.register_opp_matrix(name))" href="#y5gfunc.filter.resample.register_opp_matrix(name)">name</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="rgb_opp_matrix (y5gfunc.filter.resample.register_opp_matrix(rgb_opp_matrix))" href="#y5gfunc.filter.resample.register_opp_matrix(rgb_opp_matrix)">rgb_opp_matrix</a></span><span class="p">:</span> <span class="n"><span title="sympy.Matrix">Matrix</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><a class="autorefs autorefs-internal" title="            ColorMatrixManager (y5gfunc.filter.resample.ColorMatrixManager)" href="#y5gfunc.filter.resample.ColorMatrixManager">ColorMatrixManager</a></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Register a new OPP matrix variant and create its manager.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.register_opp_matrix(name)" class="doc doc-heading doc-heading-parameter">                  <code>name</code>
<a href="#y5gfunc.filter.resample.register_opp_matrix(name)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name identifier for this OPP variant</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.register_opp_matrix(rgb_opp_matrix)" class="doc doc-heading doc-heading-parameter">                  <code>rgb_opp_matrix</code>
<a href="#y5gfunc.filter.resample.register_opp_matrix(rgb_opp_matrix)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><span title="sympy.Matrix">Matrix</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The 3x3 RGB to OPP conversion matrix</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-internal" title="            ColorMatrixManager (y5gfunc.filter.resample.ColorMatrixManager)" href="#y5gfunc.filter.resample.ColorMatrixManager">ColorMatrixManager</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The created ColorMatrixManager instance</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>y5gfunc/filter/resample.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-181">181</a></span>
<span class="normal"><a href="#__codelineno-0-182">182</a></span>
<span class="normal"><a href="#__codelineno-0-183">183</a></span>
<span class="normal"><a href="#__codelineno-0-184">184</a></span>
<span class="normal"><a href="#__codelineno-0-185">185</a></span>
<span class="normal"><a href="#__codelineno-0-186">186</a></span>
<span class="normal"><a href="#__codelineno-0-187">187</a></span>
<span class="normal"><a href="#__codelineno-0-188">188</a></span>
<span class="normal"><a href="#__codelineno-0-189">189</a></span>
<span class="normal"><a href="#__codelineno-0-190">190</a></span>
<span class="normal"><a href="#__codelineno-0-191">191</a></span>
<span class="normal"><a href="#__codelineno-0-192">192</a></span>
<span class="normal"><a href="#__codelineno-0-193">193</a></span>
<span class="normal"><a href="#__codelineno-0-194">194</a></span>
<span class="normal"><a href="#__codelineno-0-195">195</a></span>
<span class="normal"><a href="#__codelineno-0-196">196</a></span>
<span class="normal"><a href="#__codelineno-0-197">197</a></span>
<span class="normal"><a href="#__codelineno-0-198">198</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-181" name="__codelineno-0-181"></a><span class="k">def</span><span class="w"> </span><span class="nf">register_opp_matrix</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">rgb_opp_matrix</span><span class="p">:</span> <span class="n">sympy</span><span class="o">.</span><span class="n">Matrix</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ColorMatrixManager</span><span class="p">:</span>
<a id="__codelineno-0-182" name="__codelineno-0-182"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-183" name="__codelineno-0-183"></a><span class="sd">    Register a new OPP matrix variant and create its manager.</span>
<a id="__codelineno-0-184" name="__codelineno-0-184"></a>
<a id="__codelineno-0-185" name="__codelineno-0-185"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-186" name="__codelineno-0-186"></a><span class="sd">        name: Name identifier for this OPP variant</span>
<a id="__codelineno-0-187" name="__codelineno-0-187"></a><span class="sd">        rgb_opp_matrix: The 3x3 RGB to OPP conversion matrix</span>
<a id="__codelineno-0-188" name="__codelineno-0-188"></a>
<a id="__codelineno-0-189" name="__codelineno-0-189"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-190" name="__codelineno-0-190"></a><span class="sd">        The created ColorMatrixManager instance</span>
<a id="__codelineno-0-191" name="__codelineno-0-191"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-192" name="__codelineno-0-192"></a>    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">_opp_managers</span><span class="p">:</span>
<a id="__codelineno-0-193" name="__codelineno-0-193"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;OPP matrix variant &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39; already registered&quot;</span><span class="p">)</span>
<a id="__codelineno-0-194" name="__codelineno-0-194"></a>
<a id="__codelineno-0-195" name="__codelineno-0-195"></a>    <span class="n">manager</span> <span class="o">=</span> <span class="n">ColorMatrixManager</span><span class="p">(</span><span class="n">rgb_opp_matrix</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
<a id="__codelineno-0-196" name="__codelineno-0-196"></a>    <span class="n">_register_standard_matrices</span><span class="p">(</span><span class="n">manager</span><span class="p">)</span>
<a id="__codelineno-0-197" name="__codelineno-0-197"></a>    <span class="n">_opp_managers</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">manager</span>
<a id="__codelineno-0-198" name="__codelineno-0-198"></a>    <span class="k">return</span> <span class="n">manager</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="y5gfunc.filter.resample.yuv2opp" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">yuv2opp</span>


<a href="#y5gfunc.filter.resample.yuv2opp" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">yuv2opp</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="clip (y5gfunc.filter.resample.yuv2opp(clip))" href="#y5gfunc.filter.resample.yuv2opp(clip)">clip</a></span><span class="p">:</span> <span class="n"><span title="vstools.vs.VideoNode">VideoNode</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="matrix_in (y5gfunc.filter.resample.yuv2opp(matrix_in))" href="#y5gfunc.filter.resample.yuv2opp(matrix_in)">matrix_in</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="vstools.Matrix" href="https://sgt0.github.io/jet-docs/api/vstools/enums/color/#vstools.enums.color.Matrix">Matrix</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="range_in (y5gfunc.filter.resample.yuv2opp(range_in))" href="#y5gfunc.filter.resample.yuv2opp(range_in)">range_in</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="vstools.ColorRange" href="https://sgt0.github.io/jet-docs/api/vstools/enums/color/#vstools.enums.color.ColorRange">ColorRange</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="opp_manager (y5gfunc.filter.resample.yuv2opp(opp_manager))" href="#y5gfunc.filter.resample.yuv2opp(opp_manager)">opp_manager</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            ColorMatrixManager (y5gfunc.filter.resample.ColorMatrixManager)" href="#y5gfunc.filter.resample.ColorMatrixManager">ColorMatrixManager</a></span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="            default_opp


  
      module-attribute
   (y5gfunc.filter.resample.default_opp)" href="#y5gfunc.filter.resample.default_opp">default_opp</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="vstools.vs.VideoNode">VideoNode</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convert YUV to OPP color space.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.yuv2opp(clip)" class="doc doc-heading doc-heading-parameter">                  <code>clip</code>
<a href="#y5gfunc.filter.resample.yuv2opp(clip)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><span title="vstools.vs.VideoNode">VideoNode</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input YUV clip</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.yuv2opp(matrix_in)" class="doc doc-heading doc-heading-parameter">                  <code>matrix_in</code>
<a href="#y5gfunc.filter.resample.yuv2opp(matrix_in)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" title="vstools.Matrix" href="https://sgt0.github.io/jet-docs/api/vstools/enums/color/#vstools.enums.color.Matrix">Matrix</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Source matrix override, if None, read from clip properties</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.yuv2opp(range_in)" class="doc doc-heading doc-heading-parameter">                  <code>range_in</code>
<a href="#y5gfunc.filter.resample.yuv2opp(range_in)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" title="vstools.ColorRange" href="https://sgt0.github.io/jet-docs/api/vstools/enums/color/#vstools.enums.color.ColorRange">ColorRange</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Source range override, if None, read from clip properties</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.yuv2opp(opp_manager)" class="doc doc-heading doc-heading-parameter">                  <code>opp_manager</code>
<a href="#y5gfunc.filter.resample.yuv2opp(opp_manager)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            ColorMatrixManager (y5gfunc.filter.resample.ColorMatrixManager)" href="#y5gfunc.filter.resample.ColorMatrixManager">ColorMatrixManager</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ColorMatrixManager for the specific OPP variant to use</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            default_opp


  
      module-attribute
   (y5gfunc.filter.resample.default_opp)" href="#y5gfunc.filter.resample.default_opp">default_opp</a></code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="vstools.vs.VideoNode">VideoNode</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Clip in OPP color space with appropriate frame properties</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>y5gfunc/filter/resample.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-237">237</a></span>
<span class="normal"><a href="#__codelineno-0-238">238</a></span>
<span class="normal"><a href="#__codelineno-0-239">239</a></span>
<span class="normal"><a href="#__codelineno-0-240">240</a></span>
<span class="normal"><a href="#__codelineno-0-241">241</a></span>
<span class="normal"><a href="#__codelineno-0-242">242</a></span>
<span class="normal"><a href="#__codelineno-0-243">243</a></span>
<span class="normal"><a href="#__codelineno-0-244">244</a></span>
<span class="normal"><a href="#__codelineno-0-245">245</a></span>
<span class="normal"><a href="#__codelineno-0-246">246</a></span>
<span class="normal"><a href="#__codelineno-0-247">247</a></span>
<span class="normal"><a href="#__codelineno-0-248">248</a></span>
<span class="normal"><a href="#__codelineno-0-249">249</a></span>
<span class="normal"><a href="#__codelineno-0-250">250</a></span>
<span class="normal"><a href="#__codelineno-0-251">251</a></span>
<span class="normal"><a href="#__codelineno-0-252">252</a></span>
<span class="normal"><a href="#__codelineno-0-253">253</a></span>
<span class="normal"><a href="#__codelineno-0-254">254</a></span>
<span class="normal"><a href="#__codelineno-0-255">255</a></span>
<span class="normal"><a href="#__codelineno-0-256">256</a></span>
<span class="normal"><a href="#__codelineno-0-257">257</a></span>
<span class="normal"><a href="#__codelineno-0-258">258</a></span>
<span class="normal"><a href="#__codelineno-0-259">259</a></span>
<span class="normal"><a href="#__codelineno-0-260">260</a></span>
<span class="normal"><a href="#__codelineno-0-261">261</a></span>
<span class="normal"><a href="#__codelineno-0-262">262</a></span>
<span class="normal"><a href="#__codelineno-0-263">263</a></span>
<span class="normal"><a href="#__codelineno-0-264">264</a></span>
<span class="normal"><a href="#__codelineno-0-265">265</a></span>
<span class="normal"><a href="#__codelineno-0-266">266</a></span>
<span class="normal"><a href="#__codelineno-0-267">267</a></span>
<span class="normal"><a href="#__codelineno-0-268">268</a></span>
<span class="normal"><a href="#__codelineno-0-269">269</a></span>
<span class="normal"><a href="#__codelineno-0-270">270</a></span>
<span class="normal"><a href="#__codelineno-0-271">271</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-237" name="__codelineno-0-237"></a><span class="k">def</span><span class="w"> </span><span class="nf">yuv2opp</span><span class="p">(</span>
<a id="__codelineno-0-238" name="__codelineno-0-238"></a>    <span class="n">clip</span><span class="p">:</span> <span class="n">vs</span><span class="o">.</span><span class="n">VideoNode</span><span class="p">,</span>
<a id="__codelineno-0-239" name="__codelineno-0-239"></a>    <span class="n">matrix_in</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">vstools</span><span class="o">.</span><span class="n">Matrix</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-240" name="__codelineno-0-240"></a>    <span class="n">range_in</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ColorRange</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-241" name="__codelineno-0-241"></a>    <span class="n">opp_manager</span><span class="p">:</span> <span class="n">ColorMatrixManager</span> <span class="o">=</span> <span class="n">default_opp</span><span class="p">,</span>
<a id="__codelineno-0-242" name="__codelineno-0-242"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">vs</span><span class="o">.</span><span class="n">VideoNode</span><span class="p">:</span>
<a id="__codelineno-0-243" name="__codelineno-0-243"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-244" name="__codelineno-0-244"></a><span class="sd">    Convert YUV to OPP color space.</span>
<a id="__codelineno-0-245" name="__codelineno-0-245"></a>
<a id="__codelineno-0-246" name="__codelineno-0-246"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-247" name="__codelineno-0-247"></a><span class="sd">        clip: Input YUV clip</span>
<a id="__codelineno-0-248" name="__codelineno-0-248"></a><span class="sd">        matrix_in: Source matrix override, if None, read from clip properties</span>
<a id="__codelineno-0-249" name="__codelineno-0-249"></a><span class="sd">        range_in: Source range override, if None, read from clip properties</span>
<a id="__codelineno-0-250" name="__codelineno-0-250"></a><span class="sd">        opp_manager: ColorMatrixManager for the specific OPP variant to use</span>
<a id="__codelineno-0-251" name="__codelineno-0-251"></a>
<a id="__codelineno-0-252" name="__codelineno-0-252"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-253" name="__codelineno-0-253"></a><span class="sd">        Clip in OPP color space with appropriate frame properties</span>
<a id="__codelineno-0-254" name="__codelineno-0-254"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-255" name="__codelineno-0-255"></a>    <span class="k">if</span> <span class="n">matrix_in</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-256" name="__codelineno-0-256"></a>        <span class="n">matrix_in</span> <span class="o">=</span> <span class="n">vstools</span><span class="o">.</span><span class="n">Matrix</span><span class="o">.</span><span class="n">from_video</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-257" name="__codelineno-0-257"></a>    <span class="k">if</span> <span class="n">range_in</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-258" name="__codelineno-0-258"></a>        <span class="n">range_in</span> <span class="o">=</span> <span class="n">ColorRange</span><span class="o">.</span><span class="n">from_video</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-259" name="__codelineno-0-259"></a>
<a id="__codelineno-0-260" name="__codelineno-0-260"></a>    <span class="n">coef</span> <span class="o">=</span> <span class="n">opp_manager</span><span class="o">.</span><span class="n">get_yuv_to_opp_coefs</span><span class="p">(</span><span class="n">matrix_in</span><span class="p">)</span>
<a id="__codelineno-0-261" name="__codelineno-0-261"></a>
<a id="__codelineno-0-262" name="__codelineno-0-262"></a>    <span class="n">opp</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">fmtc</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span>
<a id="__codelineno-0-263" name="__codelineno-0-263"></a>        <span class="n">clip</span><span class="p">,</span> <span class="n">fulls</span><span class="o">=</span><span class="ow">not</span> <span class="n">range_in</span><span class="p">,</span> <span class="n">fulld</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">col_fam</span><span class="o">=</span><span class="n">vs</span><span class="o">.</span><span class="n">YUV</span><span class="p">,</span> <span class="n">coef</span><span class="o">=</span><span class="n">coef</span>
<a id="__codelineno-0-264" name="__codelineno-0-264"></a>    <span class="p">)</span>
<a id="__codelineno-0-265" name="__codelineno-0-265"></a>    <span class="k">return</span> <span class="n">opp</span><span class="o">.</span><span class="n">std</span><span class="o">.</span><span class="n">SetFrameProps</span><span class="p">(</span>
<a id="__codelineno-0-266" name="__codelineno-0-266"></a>        <span class="n">_Matrix</span><span class="o">=</span><span class="n">vs</span><span class="o">.</span><span class="n">MATRIX_UNSPECIFIED</span><span class="p">,</span>
<a id="__codelineno-0-267" name="__codelineno-0-267"></a>        <span class="n">BM3D_OPP</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-268" name="__codelineno-0-268"></a>        <span class="n">BM3D_OPP_VARIANT</span><span class="o">=</span><span class="n">opp_manager</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
<a id="__codelineno-0-269" name="__codelineno-0-269"></a>        <span class="n">BM3D_OPP_SRC_RANGE</span><span class="o">=</span><span class="n">range_in</span><span class="p">,</span>
<a id="__codelineno-0-270" name="__codelineno-0-270"></a>        <span class="n">BM3D_OPP_SRC_MATRIX</span><span class="o">=</span><span class="n">matrix_in</span><span class="p">,</span>
<a id="__codelineno-0-271" name="__codelineno-0-271"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="y5gfunc.filter.resample.opp2yuv" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">opp2yuv</span>


<a href="#y5gfunc.filter.resample.opp2yuv" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">opp2yuv</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="clip (y5gfunc.filter.resample.opp2yuv(clip))" href="#y5gfunc.filter.resample.opp2yuv(clip)">clip</a></span><span class="p">:</span> <span class="n"><span title="vstools.vs.VideoNode">VideoNode</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="target_matrix (y5gfunc.filter.resample.opp2yuv(target_matrix))" href="#y5gfunc.filter.resample.opp2yuv(target_matrix)">target_matrix</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="vstools.Matrix" href="https://sgt0.github.io/jet-docs/api/vstools/enums/color/#vstools.enums.color.Matrix">Matrix</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="target_range (y5gfunc.filter.resample.opp2yuv(target_range))" href="#y5gfunc.filter.resample.opp2yuv(target_range)">target_range</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="vstools.ColorRange" href="https://sgt0.github.io/jet-docs/api/vstools/enums/color/#vstools.enums.color.ColorRange">ColorRange</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="opp_manager (y5gfunc.filter.resample.opp2yuv(opp_manager))" href="#y5gfunc.filter.resample.opp2yuv(opp_manager)">opp_manager</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            ColorMatrixManager (y5gfunc.filter.resample.ColorMatrixManager)" href="#y5gfunc.filter.resample.ColorMatrixManager">ColorMatrixManager</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="vstools.vs.VideoNode">VideoNode</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convert OPP to YUV color space.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.opp2yuv(clip)" class="doc doc-heading doc-heading-parameter">                  <code>clip</code>
<a href="#y5gfunc.filter.resample.opp2yuv(clip)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><span title="vstools.vs.VideoNode">VideoNode</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input OPP clip</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.opp2yuv(target_matrix)" class="doc doc-heading doc-heading-parameter">                  <code>target_matrix</code>
<a href="#y5gfunc.filter.resample.opp2yuv(target_matrix)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" title="vstools.Matrix" href="https://sgt0.github.io/jet-docs/api/vstools/enums/color/#vstools.enums.color.Matrix">Matrix</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Target YUV color space, if None, read from clip properties</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.opp2yuv(target_range)" class="doc doc-heading doc-heading-parameter">                  <code>target_range</code>
<a href="#y5gfunc.filter.resample.opp2yuv(target_range)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-external" title="vstools.ColorRange" href="https://sgt0.github.io/jet-docs/api/vstools/enums/color/#vstools.enums.color.ColorRange">ColorRange</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Target range, if None, read from clip properties</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.opp2yuv(opp_manager)" class="doc doc-heading doc-heading-parameter">                  <code>opp_manager</code>
<a href="#y5gfunc.filter.resample.opp2yuv(opp_manager)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-internal" title="            ColorMatrixManager (y5gfunc.filter.resample.ColorMatrixManager)" href="#y5gfunc.filter.resample.ColorMatrixManager">ColorMatrixManager</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ColorMatrixManager for the specific OPP variant, if None, read from clip properties</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="vstools.vs.VideoNode">VideoNode</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Clip in YUV color space</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>y5gfunc/filter/resample.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-274">274</a></span>
<span class="normal"><a href="#__codelineno-0-275">275</a></span>
<span class="normal"><a href="#__codelineno-0-276">276</a></span>
<span class="normal"><a href="#__codelineno-0-277">277</a></span>
<span class="normal"><a href="#__codelineno-0-278">278</a></span>
<span class="normal"><a href="#__codelineno-0-279">279</a></span>
<span class="normal"><a href="#__codelineno-0-280">280</a></span>
<span class="normal"><a href="#__codelineno-0-281">281</a></span>
<span class="normal"><a href="#__codelineno-0-282">282</a></span>
<span class="normal"><a href="#__codelineno-0-283">283</a></span>
<span class="normal"><a href="#__codelineno-0-284">284</a></span>
<span class="normal"><a href="#__codelineno-0-285">285</a></span>
<span class="normal"><a href="#__codelineno-0-286">286</a></span>
<span class="normal"><a href="#__codelineno-0-287">287</a></span>
<span class="normal"><a href="#__codelineno-0-288">288</a></span>
<span class="normal"><a href="#__codelineno-0-289">289</a></span>
<span class="normal"><a href="#__codelineno-0-290">290</a></span>
<span class="normal"><a href="#__codelineno-0-291">291</a></span>
<span class="normal"><a href="#__codelineno-0-292">292</a></span>
<span class="normal"><a href="#__codelineno-0-293">293</a></span>
<span class="normal"><a href="#__codelineno-0-294">294</a></span>
<span class="normal"><a href="#__codelineno-0-295">295</a></span>
<span class="normal"><a href="#__codelineno-0-296">296</a></span>
<span class="normal"><a href="#__codelineno-0-297">297</a></span>
<span class="normal"><a href="#__codelineno-0-298">298</a></span>
<span class="normal"><a href="#__codelineno-0-299">299</a></span>
<span class="normal"><a href="#__codelineno-0-300">300</a></span>
<span class="normal"><a href="#__codelineno-0-301">301</a></span>
<span class="normal"><a href="#__codelineno-0-302">302</a></span>
<span class="normal"><a href="#__codelineno-0-303">303</a></span>
<span class="normal"><a href="#__codelineno-0-304">304</a></span>
<span class="normal"><a href="#__codelineno-0-305">305</a></span>
<span class="normal"><a href="#__codelineno-0-306">306</a></span>
<span class="normal"><a href="#__codelineno-0-307">307</a></span>
<span class="normal"><a href="#__codelineno-0-308">308</a></span>
<span class="normal"><a href="#__codelineno-0-309">309</a></span>
<span class="normal"><a href="#__codelineno-0-310">310</a></span>
<span class="normal"><a href="#__codelineno-0-311">311</a></span>
<span class="normal"><a href="#__codelineno-0-312">312</a></span>
<span class="normal"><a href="#__codelineno-0-313">313</a></span>
<span class="normal"><a href="#__codelineno-0-314">314</a></span>
<span class="normal"><a href="#__codelineno-0-315">315</a></span>
<span class="normal"><a href="#__codelineno-0-316">316</a></span>
<span class="normal"><a href="#__codelineno-0-317">317</a></span>
<span class="normal"><a href="#__codelineno-0-318">318</a></span>
<span class="normal"><a href="#__codelineno-0-319">319</a></span>
<span class="normal"><a href="#__codelineno-0-320">320</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-274" name="__codelineno-0-274"></a><span class="k">def</span><span class="w"> </span><span class="nf">opp2yuv</span><span class="p">(</span>
<a id="__codelineno-0-275" name="__codelineno-0-275"></a>    <span class="n">clip</span><span class="p">:</span> <span class="n">vs</span><span class="o">.</span><span class="n">VideoNode</span><span class="p">,</span>
<a id="__codelineno-0-276" name="__codelineno-0-276"></a>    <span class="n">target_matrix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">vstools</span><span class="o">.</span><span class="n">Matrix</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-277" name="__codelineno-0-277"></a>    <span class="n">target_range</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ColorRange</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-278" name="__codelineno-0-278"></a>    <span class="n">opp_manager</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ColorMatrixManager</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-279" name="__codelineno-0-279"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">vs</span><span class="o">.</span><span class="n">VideoNode</span><span class="p">:</span>
<a id="__codelineno-0-280" name="__codelineno-0-280"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-281" name="__codelineno-0-281"></a><span class="sd">    Convert OPP to YUV color space.</span>
<a id="__codelineno-0-282" name="__codelineno-0-282"></a>
<a id="__codelineno-0-283" name="__codelineno-0-283"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-284" name="__codelineno-0-284"></a><span class="sd">        clip: Input OPP clip</span>
<a id="__codelineno-0-285" name="__codelineno-0-285"></a><span class="sd">        target_matrix: Target YUV color space, if None, read from clip properties</span>
<a id="__codelineno-0-286" name="__codelineno-0-286"></a><span class="sd">        target_range: Target range, if None, read from clip properties</span>
<a id="__codelineno-0-287" name="__codelineno-0-287"></a><span class="sd">        opp_manager: ColorMatrixManager for the specific OPP variant, if None, read from clip properties</span>
<a id="__codelineno-0-288" name="__codelineno-0-288"></a>
<a id="__codelineno-0-289" name="__codelineno-0-289"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-290" name="__codelineno-0-290"></a><span class="sd">        Clip in YUV color space</span>
<a id="__codelineno-0-291" name="__codelineno-0-291"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-292" name="__codelineno-0-292"></a>    <span class="k">assert</span> <span class="p">(</span>
<a id="__codelineno-0-293" name="__codelineno-0-293"></a>        <span class="n">get_prop</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="s2">&quot;BM3D_OPP&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<a id="__codelineno-0-294" name="__codelineno-0-294"></a>    <span class="p">),</span> <span class="s2">&quot;Input must be an OPP clip (BM3D_OPP=1)&quot;</span>
<a id="__codelineno-0-295" name="__codelineno-0-295"></a>
<a id="__codelineno-0-296" name="__codelineno-0-296"></a>    <span class="k">if</span> <span class="n">opp_manager</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-297" name="__codelineno-0-297"></a>        <span class="n">variant_name</span> <span class="o">=</span> <span class="n">get_prop</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="s2">&quot;BM3D_OPP_VARIANT&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span>
<a id="__codelineno-0-298" name="__codelineno-0-298"></a>        <span class="k">if</span> <span class="n">variant_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_opp_managers</span><span class="p">:</span>
<a id="__codelineno-0-299" name="__codelineno-0-299"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown OPP variant: </span><span class="si">{</span><span class="n">variant_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-300" name="__codelineno-0-300"></a>        <span class="n">opp_manager</span> <span class="o">=</span> <span class="n">_opp_managers</span><span class="p">[</span><span class="n">variant_name</span><span class="p">]</span>
<a id="__codelineno-0-301" name="__codelineno-0-301"></a>
<a id="__codelineno-0-302" name="__codelineno-0-302"></a>    <span class="k">if</span> <span class="n">target_matrix</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-303" name="__codelineno-0-303"></a>        <span class="n">target_matrix</span> <span class="o">=</span> <span class="n">get_prop</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="s2">&quot;BM3D_OPP_SRC_MATRIX&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">vstools</span><span class="o">.</span><span class="n">Matrix</span><span class="p">)</span>
<a id="__codelineno-0-304" name="__codelineno-0-304"></a>
<a id="__codelineno-0-305" name="__codelineno-0-305"></a>    <span class="n">primaries</span> <span class="o">=</span> <span class="n">Primaries</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">target_matrix</span><span class="p">)</span>
<a id="__codelineno-0-306" name="__codelineno-0-306"></a>    <span class="n">transfer</span> <span class="o">=</span> <span class="n">Transfer</span><span class="o">.</span><span class="n">from_matrix</span><span class="p">(</span><span class="n">target_matrix</span><span class="p">)</span>
<a id="__codelineno-0-307" name="__codelineno-0-307"></a>
<a id="__codelineno-0-308" name="__codelineno-0-308"></a>    <span class="k">if</span> <span class="n">target_range</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-309" name="__codelineno-0-309"></a>        <span class="n">target_range</span> <span class="o">=</span> <span class="n">get_prop</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="s2">&quot;BM3D_OPP_SRC_RANGE&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">ColorRange</span><span class="p">)</span>
<a id="__codelineno-0-310" name="__codelineno-0-310"></a>
<a id="__codelineno-0-311" name="__codelineno-0-311"></a>    <span class="n">coef</span> <span class="o">=</span> <span class="n">opp_manager</span><span class="o">.</span><span class="n">get_opp_to_yuv_coefs</span><span class="p">(</span><span class="n">target_matrix</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
<a id="__codelineno-0-312" name="__codelineno-0-312"></a>
<a id="__codelineno-0-313" name="__codelineno-0-313"></a>    <span class="n">yuv</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">fmtc</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span>
<a id="__codelineno-0-314" name="__codelineno-0-314"></a>        <span class="n">clip</span><span class="p">,</span> <span class="n">fulls</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fulld</span><span class="o">=</span><span class="ow">not</span> <span class="n">target_range</span><span class="p">,</span> <span class="n">col_fam</span><span class="o">=</span><span class="n">vs</span><span class="o">.</span><span class="n">YUV</span><span class="p">,</span> <span class="n">coef</span><span class="o">=</span><span class="n">coef</span>
<a id="__codelineno-0-315" name="__codelineno-0-315"></a>    <span class="p">)</span>
<a id="__codelineno-0-316" name="__codelineno-0-316"></a>    <span class="k">return</span> <span class="n">yuv</span><span class="o">.</span><span class="n">std</span><span class="o">.</span><span class="n">SetFrameProps</span><span class="p">(</span>
<a id="__codelineno-0-317" name="__codelineno-0-317"></a>        <span class="n">_Matrix</span><span class="o">=</span><span class="n">target_matrix</span><span class="p">,</span> <span class="n">_Primaries</span><span class="o">=</span><span class="n">primaries</span><span class="p">,</span> <span class="n">_Transfer</span><span class="o">=</span><span class="n">transfer</span>
<a id="__codelineno-0-318" name="__codelineno-0-318"></a>    <span class="p">)</span><span class="o">.</span><span class="n">std</span><span class="o">.</span><span class="n">RemoveFrameProps</span><span class="p">(</span>
<a id="__codelineno-0-319" name="__codelineno-0-319"></a>        <span class="p">[</span><span class="s2">&quot;BM3D_OPP&quot;</span><span class="p">,</span> <span class="s2">&quot;BM3D_OPP_VARIANT&quot;</span><span class="p">,</span> <span class="s2">&quot;BM3D_OPP_SRC_MATRIX&quot;</span><span class="p">,</span> <span class="s2">&quot;BM3D_OPP_SRC_RANGE&quot;</span><span class="p">]</span>
<a id="__codelineno-0-320" name="__codelineno-0-320"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="y5gfunc.filter.resample.rgb2opp" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">rgb2opp</span>


<a href="#y5gfunc.filter.resample.rgb2opp" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">rgb2opp</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="clip (y5gfunc.filter.resample.rgb2opp(clip))" href="#y5gfunc.filter.resample.rgb2opp(clip)">clip</a></span><span class="p">:</span> <span class="n"><span title="vstools.vs.VideoNode">VideoNode</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="opp_manager (y5gfunc.filter.resample.rgb2opp(opp_manager))" href="#y5gfunc.filter.resample.rgb2opp(opp_manager)">opp_manager</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-internal" title="            ColorMatrixManager (y5gfunc.filter.resample.ColorMatrixManager)" href="#y5gfunc.filter.resample.ColorMatrixManager">ColorMatrixManager</a></span> <span class="o">=</span> <span class="n"><a class="autorefs autorefs-internal" title="            default_opp


  
      module-attribute
   (y5gfunc.filter.resample.default_opp)" href="#y5gfunc.filter.resample.default_opp">default_opp</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="vstools.vs.VideoNode">VideoNode</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convert RGB to OPP color space.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.rgb2opp(clip)" class="doc doc-heading doc-heading-parameter">                  <code>clip</code>
<a href="#y5gfunc.filter.resample.rgb2opp(clip)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><span title="vstools.vs.VideoNode">VideoNode</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input RGB clip</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.rgb2opp(opp_manager)" class="doc doc-heading doc-heading-parameter">                  <code>opp_manager</code>
<a href="#y5gfunc.filter.resample.rgb2opp(opp_manager)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            ColorMatrixManager (y5gfunc.filter.resample.ColorMatrixManager)" href="#y5gfunc.filter.resample.ColorMatrixManager">ColorMatrixManager</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ColorMatrixManager for the specific OPP variant to use</p>
              </div>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="            default_opp


  
      module-attribute
   (y5gfunc.filter.resample.default_opp)" href="#y5gfunc.filter.resample.default_opp">default_opp</a></code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="vstools.vs.VideoNode">VideoNode</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Clip in OPP color space</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>y5gfunc/filter/resample.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-323">323</a></span>
<span class="normal"><a href="#__codelineno-0-324">324</a></span>
<span class="normal"><a href="#__codelineno-0-325">325</a></span>
<span class="normal"><a href="#__codelineno-0-326">326</a></span>
<span class="normal"><a href="#__codelineno-0-327">327</a></span>
<span class="normal"><a href="#__codelineno-0-328">328</a></span>
<span class="normal"><a href="#__codelineno-0-329">329</a></span>
<span class="normal"><a href="#__codelineno-0-330">330</a></span>
<span class="normal"><a href="#__codelineno-0-331">331</a></span>
<span class="normal"><a href="#__codelineno-0-332">332</a></span>
<span class="normal"><a href="#__codelineno-0-333">333</a></span>
<span class="normal"><a href="#__codelineno-0-334">334</a></span>
<span class="normal"><a href="#__codelineno-0-335">335</a></span>
<span class="normal"><a href="#__codelineno-0-336">336</a></span>
<span class="normal"><a href="#__codelineno-0-337">337</a></span>
<span class="normal"><a href="#__codelineno-0-338">338</a></span>
<span class="normal"><a href="#__codelineno-0-339">339</a></span>
<span class="normal"><a href="#__codelineno-0-340">340</a></span>
<span class="normal"><a href="#__codelineno-0-341">341</a></span>
<span class="normal"><a href="#__codelineno-0-342">342</a></span>
<span class="normal"><a href="#__codelineno-0-343">343</a></span>
<span class="normal"><a href="#__codelineno-0-344">344</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-323" name="__codelineno-0-323"></a><span class="k">def</span><span class="w"> </span><span class="nf">rgb2opp</span><span class="p">(</span>
<a id="__codelineno-0-324" name="__codelineno-0-324"></a>    <span class="n">clip</span><span class="p">:</span> <span class="n">vs</span><span class="o">.</span><span class="n">VideoNode</span><span class="p">,</span>
<a id="__codelineno-0-325" name="__codelineno-0-325"></a>    <span class="n">opp_manager</span><span class="p">:</span> <span class="n">ColorMatrixManager</span> <span class="o">=</span> <span class="n">default_opp</span><span class="p">,</span>
<a id="__codelineno-0-326" name="__codelineno-0-326"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">vs</span><span class="o">.</span><span class="n">VideoNode</span><span class="p">:</span>
<a id="__codelineno-0-327" name="__codelineno-0-327"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-328" name="__codelineno-0-328"></a><span class="sd">    Convert RGB to OPP color space.</span>
<a id="__codelineno-0-329" name="__codelineno-0-329"></a>
<a id="__codelineno-0-330" name="__codelineno-0-330"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-331" name="__codelineno-0-331"></a><span class="sd">        clip: Input RGB clip</span>
<a id="__codelineno-0-332" name="__codelineno-0-332"></a><span class="sd">        opp_manager: ColorMatrixManager for the specific OPP variant to use</span>
<a id="__codelineno-0-333" name="__codelineno-0-333"></a>
<a id="__codelineno-0-334" name="__codelineno-0-334"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-335" name="__codelineno-0-335"></a><span class="sd">        Clip in OPP color space</span>
<a id="__codelineno-0-336" name="__codelineno-0-336"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-337" name="__codelineno-0-337"></a>    <span class="k">assert</span> <span class="n">clip</span><span class="o">.</span><span class="n">format</span><span class="o">.</span><span class="n">color_family</span> <span class="o">==</span> <span class="n">vs</span><span class="o">.</span><span class="n">RGB</span><span class="p">,</span> <span class="s2">&quot;Input must be in RGB format&quot;</span>
<a id="__codelineno-0-338" name="__codelineno-0-338"></a>
<a id="__codelineno-0-339" name="__codelineno-0-339"></a>    <span class="n">coef</span> <span class="o">=</span> <span class="n">opp_manager</span><span class="o">.</span><span class="n">get_rgb_to_opp_coefs</span><span class="p">()</span>
<a id="__codelineno-0-340" name="__codelineno-0-340"></a>
<a id="__codelineno-0-341" name="__codelineno-0-341"></a>    <span class="n">opp</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">fmtc</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="n">fulls</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fulld</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">col_fam</span><span class="o">=</span><span class="n">vs</span><span class="o">.</span><span class="n">YUV</span><span class="p">,</span> <span class="n">coef</span><span class="o">=</span><span class="n">coef</span><span class="p">)</span>
<a id="__codelineno-0-342" name="__codelineno-0-342"></a>    <span class="k">return</span> <span class="n">opp</span><span class="o">.</span><span class="n">std</span><span class="o">.</span><span class="n">SetFrameProps</span><span class="p">(</span>
<a id="__codelineno-0-343" name="__codelineno-0-343"></a>        <span class="n">_Matrix</span><span class="o">=</span><span class="n">vs</span><span class="o">.</span><span class="n">MATRIX_UNSPECIFIED</span><span class="p">,</span> <span class="n">BM3D_OPP</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">BM3D_OPP_VARIANT</span><span class="o">=</span><span class="n">opp_manager</span><span class="o">.</span><span class="n">name</span>
<a id="__codelineno-0-344" name="__codelineno-0-344"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="y5gfunc.filter.resample.opp2rgb" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">opp2rgb</span>


<a href="#y5gfunc.filter.resample.opp2rgb" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">opp2rgb</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="clip (y5gfunc.filter.resample.opp2rgb(clip))" href="#y5gfunc.filter.resample.opp2rgb(clip)">clip</a></span><span class="p">:</span> <span class="n"><span title="vstools.vs.VideoNode">VideoNode</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="opp_manager (y5gfunc.filter.resample.opp2rgb(opp_manager))" href="#y5gfunc.filter.resample.opp2rgb(opp_manager)">opp_manager</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-internal" title="            ColorMatrixManager (y5gfunc.filter.resample.ColorMatrixManager)" href="#y5gfunc.filter.resample.ColorMatrixManager">ColorMatrixManager</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="vstools.vs.VideoNode">VideoNode</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convert OPP to RGB color space.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.opp2rgb(clip)" class="doc doc-heading doc-heading-parameter">                  <code>clip</code>
<a href="#y5gfunc.filter.resample.opp2rgb(clip)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><span title="vstools.vs.VideoNode">VideoNode</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input OPP clip</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.opp2rgb(opp_manager)" class="doc doc-heading doc-heading-parameter">                  <code>opp_manager</code>
<a href="#y5gfunc.filter.resample.opp2rgb(opp_manager)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a>[<a class="autorefs autorefs-internal" title="            ColorMatrixManager (y5gfunc.filter.resample.ColorMatrixManager)" href="#y5gfunc.filter.resample.ColorMatrixManager">ColorMatrixManager</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ColorMatrixManager for the specific OPP variant, if None, read from clip properties</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="vstools.vs.VideoNode">VideoNode</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Clip in RGB color space</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>y5gfunc/filter/resample.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-347">347</a></span>
<span class="normal"><a href="#__codelineno-0-348">348</a></span>
<span class="normal"><a href="#__codelineno-0-349">349</a></span>
<span class="normal"><a href="#__codelineno-0-350">350</a></span>
<span class="normal"><a href="#__codelineno-0-351">351</a></span>
<span class="normal"><a href="#__codelineno-0-352">352</a></span>
<span class="normal"><a href="#__codelineno-0-353">353</a></span>
<span class="normal"><a href="#__codelineno-0-354">354</a></span>
<span class="normal"><a href="#__codelineno-0-355">355</a></span>
<span class="normal"><a href="#__codelineno-0-356">356</a></span>
<span class="normal"><a href="#__codelineno-0-357">357</a></span>
<span class="normal"><a href="#__codelineno-0-358">358</a></span>
<span class="normal"><a href="#__codelineno-0-359">359</a></span>
<span class="normal"><a href="#__codelineno-0-360">360</a></span>
<span class="normal"><a href="#__codelineno-0-361">361</a></span>
<span class="normal"><a href="#__codelineno-0-362">362</a></span>
<span class="normal"><a href="#__codelineno-0-363">363</a></span>
<span class="normal"><a href="#__codelineno-0-364">364</a></span>
<span class="normal"><a href="#__codelineno-0-365">365</a></span>
<span class="normal"><a href="#__codelineno-0-366">366</a></span>
<span class="normal"><a href="#__codelineno-0-367">367</a></span>
<span class="normal"><a href="#__codelineno-0-368">368</a></span>
<span class="normal"><a href="#__codelineno-0-369">369</a></span>
<span class="normal"><a href="#__codelineno-0-370">370</a></span>
<span class="normal"><a href="#__codelineno-0-371">371</a></span>
<span class="normal"><a href="#__codelineno-0-372">372</a></span>
<span class="normal"><a href="#__codelineno-0-373">373</a></span>
<span class="normal"><a href="#__codelineno-0-374">374</a></span>
<span class="normal"><a href="#__codelineno-0-375">375</a></span>
<span class="normal"><a href="#__codelineno-0-376">376</a></span>
<span class="normal"><a href="#__codelineno-0-377">377</a></span>
<span class="normal"><a href="#__codelineno-0-378">378</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-347" name="__codelineno-0-347"></a><span class="k">def</span><span class="w"> </span><span class="nf">opp2rgb</span><span class="p">(</span>
<a id="__codelineno-0-348" name="__codelineno-0-348"></a>    <span class="n">clip</span><span class="p">:</span> <span class="n">vs</span><span class="o">.</span><span class="n">VideoNode</span><span class="p">,</span>
<a id="__codelineno-0-349" name="__codelineno-0-349"></a>    <span class="n">opp_manager</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ColorMatrixManager</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-350" name="__codelineno-0-350"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">vs</span><span class="o">.</span><span class="n">VideoNode</span><span class="p">:</span>
<a id="__codelineno-0-351" name="__codelineno-0-351"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-352" name="__codelineno-0-352"></a><span class="sd">    Convert OPP to RGB color space.</span>
<a id="__codelineno-0-353" name="__codelineno-0-353"></a>
<a id="__codelineno-0-354" name="__codelineno-0-354"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-355" name="__codelineno-0-355"></a><span class="sd">        clip: Input OPP clip</span>
<a id="__codelineno-0-356" name="__codelineno-0-356"></a><span class="sd">        opp_manager: ColorMatrixManager for the specific OPP variant, if None, read from clip properties</span>
<a id="__codelineno-0-357" name="__codelineno-0-357"></a>
<a id="__codelineno-0-358" name="__codelineno-0-358"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-359" name="__codelineno-0-359"></a><span class="sd">        Clip in RGB color space</span>
<a id="__codelineno-0-360" name="__codelineno-0-360"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-361" name="__codelineno-0-361"></a>    <span class="k">assert</span> <span class="p">(</span>
<a id="__codelineno-0-362" name="__codelineno-0-362"></a>        <span class="n">get_prop</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="s2">&quot;BM3D_OPP&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<a id="__codelineno-0-363" name="__codelineno-0-363"></a>    <span class="p">),</span> <span class="s2">&quot;Input must be an OPP clip (BM3D_OPP=1)&quot;</span>
<a id="__codelineno-0-364" name="__codelineno-0-364"></a>
<a id="__codelineno-0-365" name="__codelineno-0-365"></a>    <span class="k">if</span> <span class="n">opp_manager</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-366" name="__codelineno-0-366"></a>        <span class="n">variant_name</span> <span class="o">=</span> <span class="n">get_prop</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="s2">&quot;BM3D_OPP_VARIANT&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="s2">&quot;standard&quot;</span><span class="p">)</span>
<a id="__codelineno-0-367" name="__codelineno-0-367"></a>        <span class="k">if</span> <span class="n">variant_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_opp_managers</span><span class="p">:</span>
<a id="__codelineno-0-368" name="__codelineno-0-368"></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Unknown OPP variant: </span><span class="si">{</span><span class="n">variant_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-369" name="__codelineno-0-369"></a>        <span class="n">opp_manager</span> <span class="o">=</span> <span class="n">_opp_managers</span><span class="p">[</span><span class="n">variant_name</span><span class="p">]</span>
<a id="__codelineno-0-370" name="__codelineno-0-370"></a>
<a id="__codelineno-0-371" name="__codelineno-0-371"></a>    <span class="n">coef</span> <span class="o">=</span> <span class="n">opp_manager</span><span class="o">.</span><span class="n">get_opp_to_rgb_coefs</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
<a id="__codelineno-0-372" name="__codelineno-0-372"></a>
<a id="__codelineno-0-373" name="__codelineno-0-373"></a>    <span class="n">rgb</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">fmtc</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="n">fulls</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fulld</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">col_fam</span><span class="o">=</span><span class="n">vs</span><span class="o">.</span><span class="n">RGB</span><span class="p">,</span> <span class="n">coef</span><span class="o">=</span><span class="n">coef</span><span class="p">)</span>
<a id="__codelineno-0-374" name="__codelineno-0-374"></a>    <span class="k">return</span> <span class="n">rgb</span><span class="o">.</span><span class="n">std</span><span class="o">.</span><span class="n">SetFrameProps</span><span class="p">(</span>
<a id="__codelineno-0-375" name="__codelineno-0-375"></a>        <span class="n">_Matrix</span><span class="o">=</span><span class="n">vstools</span><span class="o">.</span><span class="n">Matrix</span><span class="o">.</span><span class="n">RGB</span><span class="p">,</span> <span class="n">_Transfer</span><span class="o">=</span><span class="n">Transfer</span><span class="o">.</span><span class="n">SRGB</span>
<a id="__codelineno-0-376" name="__codelineno-0-376"></a>    <span class="p">)</span><span class="o">.</span><span class="n">std</span><span class="o">.</span><span class="n">RemoveFrameProps</span><span class="p">(</span>
<a id="__codelineno-0-377" name="__codelineno-0-377"></a>        <span class="p">[</span><span class="s2">&quot;BM3D_OPP&quot;</span><span class="p">,</span> <span class="s2">&quot;BM3D_OPP_VARIANT&quot;</span><span class="p">,</span> <span class="s2">&quot;BM3D_OPP_SRC_MATRIX&quot;</span><span class="p">,</span> <span class="s2">&quot;BM3D_OPP_SRC_RANGE&quot;</span><span class="p">]</span>
<a id="__codelineno-0-378" name="__codelineno-0-378"></a>    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="y5gfunc.filter.resample.nn2x" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">nn2x</span>


<a href="#y5gfunc.filter.resample.nn2x" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">nn2x</span><span class="p">(</span><span class="n"><span title="y5gfunc.filter.resample.nn2x(clip)">clip</span></span><span class="p">:</span> <span class="n"><span title="vstools.vs.VideoNode">VideoNode</span></span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.nn2x(opencl)">opencl</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.nn2x(nnedi3_args)">nnedi3_args</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;field&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;nsize&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;nns&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;qual&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="n"><span title="vstools.vs.VideoNode">VideoNode</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Doubles the resolution of input clip with nnedi3.</p>


            <details class="quote">
              <summary>Source code in <code>y5gfunc/filter/resample.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-381">381</a></span>
<span class="normal"><a href="#__codelineno-0-382">382</a></span>
<span class="normal"><a href="#__codelineno-0-383">383</a></span>
<span class="normal"><a href="#__codelineno-0-384">384</a></span>
<span class="normal"><a href="#__codelineno-0-385">385</a></span>
<span class="normal"><a href="#__codelineno-0-386">386</a></span>
<span class="normal"><a href="#__codelineno-0-387">387</a></span>
<span class="normal"><a href="#__codelineno-0-388">388</a></span>
<span class="normal"><a href="#__codelineno-0-389">389</a></span>
<span class="normal"><a href="#__codelineno-0-390">390</a></span>
<span class="normal"><a href="#__codelineno-0-391">391</a></span>
<span class="normal"><a href="#__codelineno-0-392">392</a></span>
<span class="normal"><a href="#__codelineno-0-393">393</a></span>
<span class="normal"><a href="#__codelineno-0-394">394</a></span>
<span class="normal"><a href="#__codelineno-0-395">395</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-381" name="__codelineno-0-381"></a><span class="k">def</span><span class="w"> </span><span class="nf">nn2x</span><span class="p">(</span>
<a id="__codelineno-0-382" name="__codelineno-0-382"></a>    <span class="n">clip</span><span class="p">:</span> <span class="n">vs</span><span class="o">.</span><span class="n">VideoNode</span><span class="p">,</span>
<a id="__codelineno-0-383" name="__codelineno-0-383"></a>    <span class="n">opencl</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-384" name="__codelineno-0-384"></a>    <span class="n">nnedi3_args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;nsize&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;nns&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;qual&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
<a id="__codelineno-0-385" name="__codelineno-0-385"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">vs</span><span class="o">.</span><span class="n">VideoNode</span><span class="p">:</span>
<a id="__codelineno-0-386" name="__codelineno-0-386"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Doubles the resolution of input clip with nnedi3.&quot;&quot;&quot;</span>
<a id="__codelineno-0-387" name="__codelineno-0-387"></a>    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">core</span><span class="p">,</span> <span class="s2">&quot;sneedif&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">opencl</span><span class="p">:</span>
<a id="__codelineno-0-388" name="__codelineno-0-388"></a>        <span class="n">nnedi3</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">core</span><span class="o">.</span><span class="n">sneedif</span><span class="o">.</span><span class="n">NNEDI3</span><span class="p">,</span> <span class="o">**</span><span class="n">nnedi3_args</span><span class="p">)</span>
<a id="__codelineno-0-389" name="__codelineno-0-389"></a>        <span class="k">return</span> <span class="n">nnedi3</span><span class="p">(</span><span class="n">nnedi3</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="n">dh</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">dw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-390" name="__codelineno-0-390"></a>    <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">core</span><span class="p">,</span> <span class="s2">&quot;nnedi3cl&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">opencl</span><span class="p">:</span>
<a id="__codelineno-0-391" name="__codelineno-0-391"></a>        <span class="n">nnedi3</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">core</span><span class="o">.</span><span class="n">nnedi3cl</span><span class="o">.</span><span class="n">NNEDI3CL</span><span class="p">,</span> <span class="o">**</span><span class="n">nnedi3_args</span><span class="p">)</span>
<a id="__codelineno-0-392" name="__codelineno-0-392"></a>        <span class="k">return</span> <span class="n">nnedi3</span><span class="p">(</span><span class="n">nnedi3</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="n">dh</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">dw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-393" name="__codelineno-0-393"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-394" name="__codelineno-0-394"></a>        <span class="n">nnedi3</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">core</span><span class="o">.</span><span class="n">nnedi3</span><span class="o">.</span><span class="n">nnedi3</span><span class="p">,</span> <span class="o">**</span><span class="n">nnedi3_args</span><span class="p">)</span>
<a id="__codelineno-0-395" name="__codelineno-0-395"></a>        <span class="k">return</span> <span class="n">nnedi3</span><span class="p">(</span><span class="n">nnedi3</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="n">dh</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">std</span><span class="o">.</span><span class="n">Transpose</span><span class="p">(),</span> <span class="n">dh</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">std</span><span class="o">.</span><span class="n">Transpose</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="y5gfunc.filter.resample.Gammarize" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">Gammarize</span>


<a href="#y5gfunc.filter.resample.Gammarize" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">Gammarize</span><span class="p">(</span><span class="n"><span title="y5gfunc.filter.resample.Gammarize(clip)">clip</span></span><span class="p">:</span> <span class="n"><span title="vstools.vs.VideoNode">VideoNode</span></span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Gammarize(gamma)">gamma</span></span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Gammarize(tvrange)">tvrange</span></span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="vstools.vs.VideoNode">VideoNode</span></span>
</code></pre></div>

    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>y5gfunc/filter/resample.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-399">399</a></span>
<span class="normal"><a href="#__codelineno-0-400">400</a></span>
<span class="normal"><a href="#__codelineno-0-401">401</a></span>
<span class="normal"><a href="#__codelineno-0-402">402</a></span>
<span class="normal"><a href="#__codelineno-0-403">403</a></span>
<span class="normal"><a href="#__codelineno-0-404">404</a></span>
<span class="normal"><a href="#__codelineno-0-405">405</a></span>
<span class="normal"><a href="#__codelineno-0-406">406</a></span>
<span class="normal"><a href="#__codelineno-0-407">407</a></span>
<span class="normal"><a href="#__codelineno-0-408">408</a></span>
<span class="normal"><a href="#__codelineno-0-409">409</a></span>
<span class="normal"><a href="#__codelineno-0-410">410</a></span>
<span class="normal"><a href="#__codelineno-0-411">411</a></span>
<span class="normal"><a href="#__codelineno-0-412">412</a></span>
<span class="normal"><a href="#__codelineno-0-413">413</a></span>
<span class="normal"><a href="#__codelineno-0-414">414</a></span>
<span class="normal"><a href="#__codelineno-0-415">415</a></span>
<span class="normal"><a href="#__codelineno-0-416">416</a></span>
<span class="normal"><a href="#__codelineno-0-417">417</a></span>
<span class="normal"><a href="#__codelineno-0-418">418</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-399" name="__codelineno-0-399"></a><span class="k">def</span><span class="w"> </span><span class="nf">Gammarize</span><span class="p">(</span><span class="n">clip</span><span class="p">:</span> <span class="n">vs</span><span class="o">.</span><span class="n">VideoNode</span><span class="p">,</span> <span class="n">gamma</span><span class="p">,</span> <span class="n">tvrange</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">vs</span><span class="o">.</span><span class="n">VideoNode</span><span class="p">:</span>
<a id="__codelineno-0-400" name="__codelineno-0-400"></a>    <span class="k">if</span> <span class="n">clip</span><span class="o">.</span><span class="n">format</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;YUV&quot;</span><span class="p">):</span>
<a id="__codelineno-0-401" name="__codelineno-0-401"></a>        <span class="n">is_yuv</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-0-402" name="__codelineno-0-402"></a>        <span class="n">y</span> <span class="o">=</span> <span class="n">get_y</span><span class="p">(</span><span class="n">clip</span><span class="p">)</span>
<a id="__codelineno-0-403" name="__codelineno-0-403"></a>    <span class="k">elif</span> <span class="n">clip</span><span class="o">.</span><span class="n">format</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;Gray&quot;</span><span class="p">):</span>
<a id="__codelineno-0-404" name="__codelineno-0-404"></a>        <span class="n">is_yuv</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-0-405" name="__codelineno-0-405"></a>        <span class="n">y</span> <span class="o">=</span> <span class="n">clip</span>
<a id="__codelineno-0-406" name="__codelineno-0-406"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-407" name="__codelineno-0-407"></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Gammarize: Input clip must be either YUV or GRAY.&quot;</span><span class="p">)</span>
<a id="__codelineno-0-408" name="__codelineno-0-408"></a>
<a id="__codelineno-0-409" name="__codelineno-0-409"></a>    <span class="nb">range</span> <span class="o">=</span> <span class="n">ColorRange</span><span class="o">.</span><span class="n">LIMITED</span> <span class="k">if</span> <span class="n">tvrange</span> <span class="k">else</span> <span class="n">ColorRange</span><span class="o">.</span><span class="n">FULL</span>
<a id="__codelineno-0-410" name="__codelineno-0-410"></a>
<a id="__codelineno-0-411" name="__codelineno-0-411"></a>    <span class="n">thrl</span> <span class="o">=</span> <span class="n">get_lowest_value</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="n">range_in</span><span class="o">=</span><span class="nb">range</span><span class="p">)</span>
<a id="__codelineno-0-412" name="__codelineno-0-412"></a>    <span class="n">thrh</span> <span class="o">=</span> <span class="n">get_peak_value</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="n">range_in</span><span class="o">=</span><span class="nb">range</span><span class="p">)</span>
<a id="__codelineno-0-413" name="__codelineno-0-413"></a>    <span class="n">rng</span> <span class="o">=</span> <span class="n">scale_mask</span><span class="p">(</span><span class="mi">219</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">clip</span><span class="p">)</span> <span class="k">if</span> <span class="n">tvrange</span> <span class="k">else</span> <span class="n">scale_mask</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">clip</span><span class="p">)</span>
<a id="__codelineno-0-414" name="__codelineno-0-414"></a>    <span class="n">corrected</span> <span class="o">=</span> <span class="n">y</span><span class="o">.</span><span class="n">akarin</span><span class="o">.</span><span class="n">Expr</span><span class="p">(</span>
<a id="__codelineno-0-415" name="__codelineno-0-415"></a>        <span class="sa">f</span><span class="s2">&quot;x </span><span class="si">{</span><span class="n">rng</span><span class="si">}</span><span class="s2"> / </span><span class="si">{</span><span class="n">gamma</span><span class="si">}</span><span class="s2"> pow </span><span class="si">{</span><span class="n">rng</span><span class="si">}</span><span class="s2"> * </span><span class="si">{</span><span class="n">thrl</span><span class="si">}</span><span class="s2"> + </span><span class="si">{</span><span class="n">thrl</span><span class="si">}</span><span class="s2"> max </span><span class="si">{</span><span class="n">thrh</span><span class="si">}</span><span class="s2"> min&quot;</span>
<a id="__codelineno-0-416" name="__codelineno-0-416"></a>    <span class="p">)</span>
<a id="__codelineno-0-417" name="__codelineno-0-417"></a>
<a id="__codelineno-0-418" name="__codelineno-0-418"></a>    <span class="k">return</span> <span class="n">join</span><span class="p">(</span><span class="n">corrected</span><span class="p">,</span> <span class="n">clip</span><span class="p">)</span> <span class="k">if</span> <span class="n">is_yuv</span> <span class="k">else</span> <span class="n">corrected</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="y5gfunc.filter.resample.SSIM_downsample" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">SSIM_downsample</span>


<a href="#y5gfunc.filter.resample.SSIM_downsample" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">SSIM_downsample</span><span class="p">(</span><span class="n"><a class="autorefs autorefs-internal" title="clip (y5gfunc.filter.resample.SSIM_downsample(clip))" href="#y5gfunc.filter.resample.SSIM_downsample(clip)">clip</a></span><span class="p">:</span> <span class="n"><span title="vstools.vs.VideoNode">VideoNode</span></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="width (y5gfunc.filter.resample.SSIM_downsample(width))" href="#y5gfunc.filter.resample.SSIM_downsample(width)">width</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="height (y5gfunc.filter.resample.SSIM_downsample(height))" href="#y5gfunc.filter.resample.SSIM_downsample(height)">height</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="smooth (y5gfunc.filter.resample.SSIM_downsample(smooth))" href="#y5gfunc.filter.resample.SSIM_downsample(smooth)">smooth</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a></span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="gamma (y5gfunc.filter.resample.SSIM_downsample(gamma))" href="#y5gfunc.filter.resample.SSIM_downsample(gamma)">gamma</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="fulls (y5gfunc.filter.resample.SSIM_downsample(fulls))" href="#y5gfunc.filter.resample.SSIM_downsample(fulls)">fulls</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="fulld (y5gfunc.filter.resample.SSIM_downsample(fulld))" href="#y5gfunc.filter.resample.SSIM_downsample(fulld)">fulld</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="curve (y5gfunc.filter.resample.SSIM_downsample(curve))" href="#y5gfunc.filter.resample.SSIM_downsample(curve)">curve</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span> <span class="o">=</span> <span class="s1">&#39;709&#39;</span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-internal" title="sigmoid (y5gfunc.filter.resample.SSIM_downsample(sigmoid))" href="#y5gfunc.filter.resample.SSIM_downsample(sigmoid)">sigmoid</a></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.SSIM_downsample(epsilon)">epsilon</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span> <span class="o">=</span> <span class="mf">1e-06</span><span class="p">,</span> <span class="o">**</span><span class="n"><span title="y5gfunc.filter.resample.SSIM_downsample(**resample_args)">resample_args</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="vstools.vs.VideoNode">VideoNode</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>SSIM downsampler</p>
<p>SSIM downsampler is an image downscaling technique that aims to optimize for the perceptual quality of the downscaled results.
Image downscaling is considered as an optimization problem
where the difference between the input and output images is measured using famous Structural SIMilarity (SSIM) index.
The solution is derived in closed-form, which leads to the simple, efficient implementation.
The downscaled images retain perceptually important features and details,
resulting in an accurate and spatio-temporally consistent representation of the high resolution input.</p>
<p>All the internal calculations are done at 32-bit float, except gamma correction is done at integer.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.SSIM_downsample(clip)" class="doc doc-heading doc-heading-parameter">                  <code>clip</code>
<a href="#y5gfunc.filter.resample.SSIM_downsample(clip)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><span title="vstools.vs.VideoNode">VideoNode</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input clip.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.SSIM_downsample(width)" class="doc doc-heading doc-heading-parameter">                  <code>width</code>
<a href="#y5gfunc.filter.resample.SSIM_downsample(width)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The width of the output clip.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.SSIM_downsample(height)" class="doc doc-heading doc-heading-parameter">                  <code>height</code>
<a href="#y5gfunc.filter.resample.SSIM_downsample(height)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The height of the output clip</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.SSIM_downsample(smooth)" class="doc doc-heading doc-heading-parameter">                  <code>smooth</code>
<a href="#y5gfunc.filter.resample.SSIM_downsample(smooth)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>, <a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method to smooth the image.
If it's an int, it specifies the "radius" of the internal used boxfilter, i.e. the window has a size of (2<em>smooth+1)x(2</em>smooth+1).
If it's a float, it specifies the "sigma" of core.tcanny.TCanny, i.e. the standard deviation of gaussian blur.
If it's a function, it acs as a general smoother.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.SSIM_downsample(gamma)" class="doc doc-heading doc-heading-parameter">                  <code>gamma</code>
<a href="#y5gfunc.filter.resample.SSIM_downsample(gamma)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Set to true to turn on gamma correction for the y channel.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.SSIM_downsample(fulls)" class="doc doc-heading doc-heading-parameter">                  <code>fulls</code>
<a href="#y5gfunc.filter.resample.SSIM_downsample(fulls)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Specifies if the luma is limited range (False) or full range (True)</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.SSIM_downsample(fulld)" class="doc doc-heading doc-heading-parameter">                  <code>fulld</code>
<a href="#y5gfunc.filter.resample.SSIM_downsample(fulld)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Same as fulls, but for output.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.SSIM_downsample(curve)" class="doc doc-heading doc-heading-parameter">                  <code>curve</code>
<a href="#y5gfunc.filter.resample.SSIM_downsample(curve)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Type of gamma mapping.</p>
              </div>
            </td>
            <td>
                  <code>&#39;709&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.SSIM_downsample(sigmoid)" class="doc doc-heading doc-heading-parameter">                  <code>sigmoid</code>
<a href="#y5gfunc.filter.resample.SSIM_downsample(sigmoid)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>When True, applies a sigmoidal curve after the power-like curve (or before when converting from linear to gamma-corrected).
This helps reducing the dark halo artifacts around sharp edges caused by resizing in linear luminance.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
<h3 id="y5gfunc.filter.resample.SSIM_downsample(resample_args)" class="doc doc-heading doc-heading-parameter">                  <code>resample_args</code>
<a href="#y5gfunc.filter.resample.SSIM_downsample(resample_args)" class="headerlink" title="Permanent link">&para;</a></h3>            </td>
            <td>
                  <code><a class="autorefs autorefs-external" title="typing.Any" href="https://docs.python.org/3/library/typing.html#typing.Any">Any</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional arguments passed to <code>core.resize2</code> in the form of keyword arguments.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="vstools.vs.VideoNode">VideoNode</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Downsampled clip in 32-bit format.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/exceptions.html#TypeError">TypeError</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If <code>smooth</code> is neither a int, float nor a function.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="ref" open>
  <summary>Ref</summary>
  <p>[1] Oeztireli, A. C., &amp; Gross, M. (2015). Perceptually based downscaling of images. ACM Transactions on Graphics (TOG), 34(4), 77.</p>
</details>

            <details class="quote">
              <summary>Source code in <code>y5gfunc/filter/resample.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-422">422</a></span>
<span class="normal"><a href="#__codelineno-0-423">423</a></span>
<span class="normal"><a href="#__codelineno-0-424">424</a></span>
<span class="normal"><a href="#__codelineno-0-425">425</a></span>
<span class="normal"><a href="#__codelineno-0-426">426</a></span>
<span class="normal"><a href="#__codelineno-0-427">427</a></span>
<span class="normal"><a href="#__codelineno-0-428">428</a></span>
<span class="normal"><a href="#__codelineno-0-429">429</a></span>
<span class="normal"><a href="#__codelineno-0-430">430</a></span>
<span class="normal"><a href="#__codelineno-0-431">431</a></span>
<span class="normal"><a href="#__codelineno-0-432">432</a></span>
<span class="normal"><a href="#__codelineno-0-433">433</a></span>
<span class="normal"><a href="#__codelineno-0-434">434</a></span>
<span class="normal"><a href="#__codelineno-0-435">435</a></span>
<span class="normal"><a href="#__codelineno-0-436">436</a></span>
<span class="normal"><a href="#__codelineno-0-437">437</a></span>
<span class="normal"><a href="#__codelineno-0-438">438</a></span>
<span class="normal"><a href="#__codelineno-0-439">439</a></span>
<span class="normal"><a href="#__codelineno-0-440">440</a></span>
<span class="normal"><a href="#__codelineno-0-441">441</a></span>
<span class="normal"><a href="#__codelineno-0-442">442</a></span>
<span class="normal"><a href="#__codelineno-0-443">443</a></span>
<span class="normal"><a href="#__codelineno-0-444">444</a></span>
<span class="normal"><a href="#__codelineno-0-445">445</a></span>
<span class="normal"><a href="#__codelineno-0-446">446</a></span>
<span class="normal"><a href="#__codelineno-0-447">447</a></span>
<span class="normal"><a href="#__codelineno-0-448">448</a></span>
<span class="normal"><a href="#__codelineno-0-449">449</a></span>
<span class="normal"><a href="#__codelineno-0-450">450</a></span>
<span class="normal"><a href="#__codelineno-0-451">451</a></span>
<span class="normal"><a href="#__codelineno-0-452">452</a></span>
<span class="normal"><a href="#__codelineno-0-453">453</a></span>
<span class="normal"><a href="#__codelineno-0-454">454</a></span>
<span class="normal"><a href="#__codelineno-0-455">455</a></span>
<span class="normal"><a href="#__codelineno-0-456">456</a></span>
<span class="normal"><a href="#__codelineno-0-457">457</a></span>
<span class="normal"><a href="#__codelineno-0-458">458</a></span>
<span class="normal"><a href="#__codelineno-0-459">459</a></span>
<span class="normal"><a href="#__codelineno-0-460">460</a></span>
<span class="normal"><a href="#__codelineno-0-461">461</a></span>
<span class="normal"><a href="#__codelineno-0-462">462</a></span>
<span class="normal"><a href="#__codelineno-0-463">463</a></span>
<span class="normal"><a href="#__codelineno-0-464">464</a></span>
<span class="normal"><a href="#__codelineno-0-465">465</a></span>
<span class="normal"><a href="#__codelineno-0-466">466</a></span>
<span class="normal"><a href="#__codelineno-0-467">467</a></span>
<span class="normal"><a href="#__codelineno-0-468">468</a></span>
<span class="normal"><a href="#__codelineno-0-469">469</a></span>
<span class="normal"><a href="#__codelineno-0-470">470</a></span>
<span class="normal"><a href="#__codelineno-0-471">471</a></span>
<span class="normal"><a href="#__codelineno-0-472">472</a></span>
<span class="normal"><a href="#__codelineno-0-473">473</a></span>
<span class="normal"><a href="#__codelineno-0-474">474</a></span>
<span class="normal"><a href="#__codelineno-0-475">475</a></span>
<span class="normal"><a href="#__codelineno-0-476">476</a></span>
<span class="normal"><a href="#__codelineno-0-477">477</a></span>
<span class="normal"><a href="#__codelineno-0-478">478</a></span>
<span class="normal"><a href="#__codelineno-0-479">479</a></span>
<span class="normal"><a href="#__codelineno-0-480">480</a></span>
<span class="normal"><a href="#__codelineno-0-481">481</a></span>
<span class="normal"><a href="#__codelineno-0-482">482</a></span>
<span class="normal"><a href="#__codelineno-0-483">483</a></span>
<span class="normal"><a href="#__codelineno-0-484">484</a></span>
<span class="normal"><a href="#__codelineno-0-485">485</a></span>
<span class="normal"><a href="#__codelineno-0-486">486</a></span>
<span class="normal"><a href="#__codelineno-0-487">487</a></span>
<span class="normal"><a href="#__codelineno-0-488">488</a></span>
<span class="normal"><a href="#__codelineno-0-489">489</a></span>
<span class="normal"><a href="#__codelineno-0-490">490</a></span>
<span class="normal"><a href="#__codelineno-0-491">491</a></span>
<span class="normal"><a href="#__codelineno-0-492">492</a></span>
<span class="normal"><a href="#__codelineno-0-493">493</a></span>
<span class="normal"><a href="#__codelineno-0-494">494</a></span>
<span class="normal"><a href="#__codelineno-0-495">495</a></span>
<span class="normal"><a href="#__codelineno-0-496">496</a></span>
<span class="normal"><a href="#__codelineno-0-497">497</a></span>
<span class="normal"><a href="#__codelineno-0-498">498</a></span>
<span class="normal"><a href="#__codelineno-0-499">499</a></span>
<span class="normal"><a href="#__codelineno-0-500">500</a></span>
<span class="normal"><a href="#__codelineno-0-501">501</a></span>
<span class="normal"><a href="#__codelineno-0-502">502</a></span>
<span class="normal"><a href="#__codelineno-0-503">503</a></span>
<span class="normal"><a href="#__codelineno-0-504">504</a></span>
<span class="normal"><a href="#__codelineno-0-505">505</a></span>
<span class="normal"><a href="#__codelineno-0-506">506</a></span>
<span class="normal"><a href="#__codelineno-0-507">507</a></span>
<span class="normal"><a href="#__codelineno-0-508">508</a></span>
<span class="normal"><a href="#__codelineno-0-509">509</a></span>
<span class="normal"><a href="#__codelineno-0-510">510</a></span>
<span class="normal"><a href="#__codelineno-0-511">511</a></span>
<span class="normal"><a href="#__codelineno-0-512">512</a></span>
<span class="normal"><a href="#__codelineno-0-513">513</a></span>
<span class="normal"><a href="#__codelineno-0-514">514</a></span>
<span class="normal"><a href="#__codelineno-0-515">515</a></span>
<span class="normal"><a href="#__codelineno-0-516">516</a></span>
<span class="normal"><a href="#__codelineno-0-517">517</a></span>
<span class="normal"><a href="#__codelineno-0-518">518</a></span>
<span class="normal"><a href="#__codelineno-0-519">519</a></span>
<span class="normal"><a href="#__codelineno-0-520">520</a></span>
<span class="normal"><a href="#__codelineno-0-521">521</a></span>
<span class="normal"><a href="#__codelineno-0-522">522</a></span>
<span class="normal"><a href="#__codelineno-0-523">523</a></span>
<span class="normal"><a href="#__codelineno-0-524">524</a></span>
<span class="normal"><a href="#__codelineno-0-525">525</a></span>
<span class="normal"><a href="#__codelineno-0-526">526</a></span>
<span class="normal"><a href="#__codelineno-0-527">527</a></span>
<span class="normal"><a href="#__codelineno-0-528">528</a></span>
<span class="normal"><a href="#__codelineno-0-529">529</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-422" name="__codelineno-0-422"></a><span class="k">def</span><span class="w"> </span><span class="nf">SSIM_downsample</span><span class="p">(</span>
<a id="__codelineno-0-423" name="__codelineno-0-423"></a>    <span class="n">clip</span><span class="p">:</span> <span class="n">vs</span><span class="o">.</span><span class="n">VideoNode</span><span class="p">,</span>
<a id="__codelineno-0-424" name="__codelineno-0-424"></a>    <span class="n">width</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-425" name="__codelineno-0-425"></a>    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-426" name="__codelineno-0-426"></a>    <span class="n">smooth</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-0-427" name="__codelineno-0-427"></a>    <span class="n">gamma</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-428" name="__codelineno-0-428"></a>    <span class="n">fulls</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-429" name="__codelineno-0-429"></a>    <span class="n">fulld</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-430" name="__codelineno-0-430"></a>    <span class="n">curve</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;709&quot;</span><span class="p">,</span>
<a id="__codelineno-0-431" name="__codelineno-0-431"></a>    <span class="n">sigmoid</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<a id="__codelineno-0-432" name="__codelineno-0-432"></a>    <span class="n">epsilon</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1e-6</span><span class="p">,</span>
<a id="__codelineno-0-433" name="__codelineno-0-433"></a>    <span class="o">**</span><span class="n">resample_args</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<a id="__codelineno-0-434" name="__codelineno-0-434"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">vs</span><span class="o">.</span><span class="n">VideoNode</span><span class="p">:</span>
<a id="__codelineno-0-435" name="__codelineno-0-435"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<a id="__codelineno-0-436" name="__codelineno-0-436"></a><span class="sd">    SSIM downsampler</span>
<a id="__codelineno-0-437" name="__codelineno-0-437"></a>
<a id="__codelineno-0-438" name="__codelineno-0-438"></a><span class="sd">    SSIM downsampler is an image downscaling technique that aims to optimize for the perceptual quality of the downscaled results.</span>
<a id="__codelineno-0-439" name="__codelineno-0-439"></a><span class="sd">    Image downscaling is considered as an optimization problem</span>
<a id="__codelineno-0-440" name="__codelineno-0-440"></a><span class="sd">    where the difference between the input and output images is measured using famous Structural SIMilarity (SSIM) index.</span>
<a id="__codelineno-0-441" name="__codelineno-0-441"></a><span class="sd">    The solution is derived in closed-form, which leads to the simple, efficient implementation.</span>
<a id="__codelineno-0-442" name="__codelineno-0-442"></a><span class="sd">    The downscaled images retain perceptually important features and details,</span>
<a id="__codelineno-0-443" name="__codelineno-0-443"></a><span class="sd">    resulting in an accurate and spatio-temporally consistent representation of the high resolution input.</span>
<a id="__codelineno-0-444" name="__codelineno-0-444"></a>
<a id="__codelineno-0-445" name="__codelineno-0-445"></a><span class="sd">    All the internal calculations are done at 32-bit float, except gamma correction is done at integer.</span>
<a id="__codelineno-0-446" name="__codelineno-0-446"></a>
<a id="__codelineno-0-447" name="__codelineno-0-447"></a><span class="sd">    Args:</span>
<a id="__codelineno-0-448" name="__codelineno-0-448"></a><span class="sd">        clip: The input clip.</span>
<a id="__codelineno-0-449" name="__codelineno-0-449"></a><span class="sd">        width: The width of the output clip.</span>
<a id="__codelineno-0-450" name="__codelineno-0-450"></a><span class="sd">        height: The height of the output clip</span>
<a id="__codelineno-0-451" name="__codelineno-0-451"></a><span class="sd">        smooth: The method to smooth the image.</span>
<a id="__codelineno-0-452" name="__codelineno-0-452"></a><span class="sd">            If it&#39;s an int, it specifies the &quot;radius&quot; of the internal used boxfilter, i.e. the window has a size of (2*smooth+1)x(2*smooth+1).</span>
<a id="__codelineno-0-453" name="__codelineno-0-453"></a><span class="sd">            If it&#39;s a float, it specifies the &quot;sigma&quot; of core.tcanny.TCanny, i.e. the standard deviation of gaussian blur.</span>
<a id="__codelineno-0-454" name="__codelineno-0-454"></a><span class="sd">            If it&#39;s a function, it acs as a general smoother.</span>
<a id="__codelineno-0-455" name="__codelineno-0-455"></a><span class="sd">        gamma: Set to true to turn on gamma correction for the y channel.</span>
<a id="__codelineno-0-456" name="__codelineno-0-456"></a><span class="sd">        fulls: Specifies if the luma is limited range (False) or full range (True)</span>
<a id="__codelineno-0-457" name="__codelineno-0-457"></a><span class="sd">        fulld: Same as fulls, but for output.</span>
<a id="__codelineno-0-458" name="__codelineno-0-458"></a><span class="sd">        curve: Type of gamma mapping.</span>
<a id="__codelineno-0-459" name="__codelineno-0-459"></a><span class="sd">        sigmoid: When True, applies a sigmoidal curve after the power-like curve (or before when converting from linear to gamma-corrected).</span>
<a id="__codelineno-0-460" name="__codelineno-0-460"></a><span class="sd">            This helps reducing the dark halo artifacts around sharp edges caused by resizing in linear luminance.</span>
<a id="__codelineno-0-461" name="__codelineno-0-461"></a><span class="sd">        resample_args: Additional arguments passed to `core.resize2` in the form of keyword arguments.</span>
<a id="__codelineno-0-462" name="__codelineno-0-462"></a>
<a id="__codelineno-0-463" name="__codelineno-0-463"></a><span class="sd">    Returns:</span>
<a id="__codelineno-0-464" name="__codelineno-0-464"></a><span class="sd">        Downsampled clip in 32-bit format.</span>
<a id="__codelineno-0-465" name="__codelineno-0-465"></a>
<a id="__codelineno-0-466" name="__codelineno-0-466"></a><span class="sd">    Raises:</span>
<a id="__codelineno-0-467" name="__codelineno-0-467"></a><span class="sd">        TypeError: If `smooth` is neither a int, float nor a function.</span>
<a id="__codelineno-0-468" name="__codelineno-0-468"></a>
<a id="__codelineno-0-469" name="__codelineno-0-469"></a><span class="sd">    Ref:</span>
<a id="__codelineno-0-470" name="__codelineno-0-470"></a><span class="sd">        [1] Oeztireli, A. C., &amp; Gross, M. (2015). Perceptually based downscaling of images. ACM Transactions on Graphics (TOG), 34(4), 77.</span>
<a id="__codelineno-0-471" name="__codelineno-0-471"></a>
<a id="__codelineno-0-472" name="__codelineno-0-472"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-473" name="__codelineno-0-473"></a>    <span class="k">if</span> <span class="nb">callable</span><span class="p">(</span><span class="n">smooth</span><span class="p">):</span>
<a id="__codelineno-0-474" name="__codelineno-0-474"></a>        <span class="n">Filter</span> <span class="o">=</span> <span class="n">smooth</span>
<a id="__codelineno-0-475" name="__codelineno-0-475"></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">smooth</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
<a id="__codelineno-0-476" name="__codelineno-0-476"></a>        <span class="n">Filter</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">box_blur</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="n">smooth</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-477" name="__codelineno-0-477"></a>    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">smooth</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
<a id="__codelineno-0-478" name="__codelineno-0-478"></a>        <span class="n">Filter</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">core</span><span class="o">.</span><span class="n">tcanny</span><span class="o">.</span><span class="n">TCanny</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="n">smooth</span><span class="p">,</span> <span class="n">mode</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-0-479" name="__codelineno-0-479"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-480" name="__codelineno-0-480"></a>        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;SSIM_downsample: &quot;smooth&quot; must be a int, float or a function!&#39;</span><span class="p">)</span>
<a id="__codelineno-0-481" name="__codelineno-0-481"></a>
<a id="__codelineno-0-482" name="__codelineno-0-482"></a>    <span class="k">if</span> <span class="n">gamma</span><span class="p">:</span>
<a id="__codelineno-0-483" name="__codelineno-0-483"></a>        <span class="kn">import</span><span class="w"> </span><span class="nn">nnedi3_resample</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nnrs</span>
<a id="__codelineno-0-484" name="__codelineno-0-484"></a>
<a id="__codelineno-0-485" name="__codelineno-0-485"></a>        <span class="n">clip</span> <span class="o">=</span> <span class="n">nnrs</span><span class="o">.</span><span class="n">GammaToLinear</span><span class="p">(</span>
<a id="__codelineno-0-486" name="__codelineno-0-486"></a>            <span class="n">depth</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span>
<a id="__codelineno-0-487" name="__codelineno-0-487"></a>            <span class="n">fulls</span><span class="o">=</span><span class="n">fulls</span><span class="p">,</span>
<a id="__codelineno-0-488" name="__codelineno-0-488"></a>            <span class="n">fulld</span><span class="o">=</span><span class="n">fulld</span><span class="p">,</span>
<a id="__codelineno-0-489" name="__codelineno-0-489"></a>            <span class="n">curve</span><span class="o">=</span><span class="n">curve</span><span class="p">,</span>
<a id="__codelineno-0-490" name="__codelineno-0-490"></a>            <span class="n">sigmoid</span><span class="o">=</span><span class="n">sigmoid</span><span class="p">,</span>
<a id="__codelineno-0-491" name="__codelineno-0-491"></a>            <span class="n">planes</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<a id="__codelineno-0-492" name="__codelineno-0-492"></a>        <span class="p">)</span>
<a id="__codelineno-0-493" name="__codelineno-0-493"></a>
<a id="__codelineno-0-494" name="__codelineno-0-494"></a>    <span class="n">clip</span> <span class="o">=</span> <span class="n">depth</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span>
<a id="__codelineno-0-495" name="__codelineno-0-495"></a>
<a id="__codelineno-0-496" name="__codelineno-0-496"></a>    <span class="n">l1</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">resize2</span><span class="o">.</span><span class="n">Bicubic</span><span class="p">(</span><span class="n">clip</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="o">**</span><span class="n">resample_args</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
<a id="__codelineno-0-497" name="__codelineno-0-497"></a>    <span class="n">l2</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">resize2</span><span class="o">.</span><span class="n">Bicubic</span><span class="p">(</span>
<a id="__codelineno-0-498" name="__codelineno-0-498"></a>        <span class="n">core</span><span class="o">.</span><span class="n">akarin</span><span class="o">.</span><span class="n">Expr</span><span class="p">([</span><span class="n">clip</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;x 2 **&quot;</span><span class="p">]),</span>
<a id="__codelineno-0-499" name="__codelineno-0-499"></a>        <span class="n">width</span><span class="p">,</span>
<a id="__codelineno-0-500" name="__codelineno-0-500"></a>        <span class="n">height</span><span class="p">,</span>
<a id="__codelineno-0-501" name="__codelineno-0-501"></a>        <span class="o">**</span><span class="n">resample_args</span><span class="p">,</span>  <span class="c1"># type: ignore</span>
<a id="__codelineno-0-502" name="__codelineno-0-502"></a>    <span class="p">)</span>
<a id="__codelineno-0-503" name="__codelineno-0-503"></a>
<a id="__codelineno-0-504" name="__codelineno-0-504"></a>    <span class="n">m</span> <span class="o">=</span> <span class="n">Filter</span><span class="p">(</span><span class="n">l1</span><span class="p">)</span>
<a id="__codelineno-0-505" name="__codelineno-0-505"></a>    <span class="n">sl_plus_m_square</span> <span class="o">=</span> <span class="n">Filter</span><span class="p">(</span><span class="n">core</span><span class="o">.</span><span class="n">akarin</span><span class="o">.</span><span class="n">Expr</span><span class="p">([</span><span class="n">l1</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;x 2 **&quot;</span><span class="p">]))</span>
<a id="__codelineno-0-506" name="__codelineno-0-506"></a>    <span class="n">sh_plus_m_square</span> <span class="o">=</span> <span class="n">Filter</span><span class="p">(</span><span class="n">l2</span><span class="p">)</span>
<a id="__codelineno-0-507" name="__codelineno-0-507"></a>    <span class="n">m_square</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">akarin</span><span class="o">.</span><span class="n">Expr</span><span class="p">([</span><span class="n">m</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;x 2 **&quot;</span><span class="p">])</span>
<a id="__codelineno-0-508" name="__codelineno-0-508"></a>    <span class="n">r</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">akarin</span><span class="o">.</span><span class="n">Expr</span><span class="p">(</span>
<a id="__codelineno-0-509" name="__codelineno-0-509"></a>        <span class="p">[</span><span class="n">sl_plus_m_square</span><span class="p">,</span> <span class="n">sh_plus_m_square</span><span class="p">,</span> <span class="n">m_square</span><span class="p">],</span>
<a id="__codelineno-0-510" name="__codelineno-0-510"></a>        <span class="p">[</span>
<a id="__codelineno-0-511" name="__codelineno-0-511"></a>            <span class="sa">f</span><span class="s2">&quot;x z - </span><span class="si">{</span><span class="n">epsilon</span><span class="si">}</span><span class="s2"> &lt; 0 y z - x z - / sqrt ?&quot;</span>
<a id="__codelineno-0-512" name="__codelineno-0-512"></a>        <span class="p">],</span>  <span class="c1"># akarin.Expr adds &quot;0 max&quot; to sqrt by default</span>
<a id="__codelineno-0-513" name="__codelineno-0-513"></a>    <span class="p">)</span>
<a id="__codelineno-0-514" name="__codelineno-0-514"></a>    <span class="n">t</span> <span class="o">=</span> <span class="n">Filter</span><span class="p">(</span><span class="n">core</span><span class="o">.</span><span class="n">akarin</span><span class="o">.</span><span class="n">Expr</span><span class="p">([</span><span class="n">r</span><span class="p">,</span> <span class="n">m</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;x y *&quot;</span><span class="p">]))</span>
<a id="__codelineno-0-515" name="__codelineno-0-515"></a>    <span class="n">m</span> <span class="o">=</span> <span class="n">Filter</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
<a id="__codelineno-0-516" name="__codelineno-0-516"></a>    <span class="n">r</span> <span class="o">=</span> <span class="n">Filter</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<a id="__codelineno-0-517" name="__codelineno-0-517"></a>    <span class="n">d</span> <span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">akarin</span><span class="o">.</span><span class="n">Expr</span><span class="p">([</span><span class="n">m</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">l1</span><span class="p">,</span> <span class="n">t</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;x y z * + a -&quot;</span><span class="p">])</span>
<a id="__codelineno-0-518" name="__codelineno-0-518"></a>
<a id="__codelineno-0-519" name="__codelineno-0-519"></a>    <span class="k">if</span> <span class="n">gamma</span><span class="p">:</span>
<a id="__codelineno-0-520" name="__codelineno-0-520"></a>        <span class="n">d</span> <span class="o">=</span> <span class="n">nnrs</span><span class="o">.</span><span class="n">LinearToGamma</span><span class="p">(</span>
<a id="__codelineno-0-521" name="__codelineno-0-521"></a>            <span class="n">depth</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span>
<a id="__codelineno-0-522" name="__codelineno-0-522"></a>            <span class="n">fulls</span><span class="o">=</span><span class="n">fulls</span><span class="p">,</span>
<a id="__codelineno-0-523" name="__codelineno-0-523"></a>            <span class="n">fulld</span><span class="o">=</span><span class="n">fulld</span><span class="p">,</span>
<a id="__codelineno-0-524" name="__codelineno-0-524"></a>            <span class="n">curve</span><span class="o">=</span><span class="n">curve</span><span class="p">,</span>
<a id="__codelineno-0-525" name="__codelineno-0-525"></a>            <span class="n">sigmoid</span><span class="o">=</span><span class="n">sigmoid</span><span class="p">,</span>
<a id="__codelineno-0-526" name="__codelineno-0-526"></a>            <span class="n">planes</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
<a id="__codelineno-0-527" name="__codelineno-0-527"></a>        <span class="p">)</span>
<a id="__codelineno-0-528" name="__codelineno-0-528"></a>
<a id="__codelineno-0-529" name="__codelineno-0-529"></a>    <span class="k">return</span> <span class="n">depth</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="y5gfunc.filter.resample.Descale" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-function"></code>            <span class="doc doc-object-name doc-function-name">Descale</span>


<a href="#y5gfunc.filter.resample.Descale" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="doc-signature highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nf">Descale</span><span class="p">(</span><span class="n"><span title="y5gfunc.filter.resample.Descale(src)">src</span></span><span class="p">:</span> <span class="n"><span title="vstools.vs.VideoNode">VideoNode</span></span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Descale(width)">width</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Descale(height)">height</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Descale(kernel)">kernel</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Descale(custom_kernel)">custom_kernel</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="typing.Callable" href="https://docs.python.org/3/library/typing.html#typing.Callable">Callable</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Descale(taps)">taps</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Descale(b)">b</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Descale(c)">c</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Descale(blur)">blur</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Descale(post_conv)">post_conv</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Descale(src_left)">src_left</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Descale(src_top)">src_top</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Descale(src_width)">src_width</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Descale(src_height)">src_height</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" title="typing.Union" href="https://docs.python.org/3/library/typing.html#typing.Union">Union</a></span><span class="p">[</span><span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span><span class="p">,</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Descale(border_handling)">border_handling</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Descale(ignore_mask)">ignore_mask</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" title="typing.Optional" href="https://docs.python.org/3/library/typing.html#typing.Optional">Optional</a></span><span class="p">[</span><span class="n"><span title="vstools.vs.VideoNode">VideoNode</span></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Descale(force)">force</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Descale(force_h)">force_h</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Descale(force_v)">force_v</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n"><span title="y5gfunc.filter.resample.Descale(opt)">opt</span></span><span class="p">:</span> <span class="n"><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="vstools.vs.VideoNode">VideoNode</span></span>
</code></pre></div>

    <div class="doc doc-contents ">


            <details class="quote">
              <summary>Source code in <code>y5gfunc/filter/resample.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-532">532</a></span>
<span class="normal"><a href="#__codelineno-0-533">533</a></span>
<span class="normal"><a href="#__codelineno-0-534">534</a></span>
<span class="normal"><a href="#__codelineno-0-535">535</a></span>
<span class="normal"><a href="#__codelineno-0-536">536</a></span>
<span class="normal"><a href="#__codelineno-0-537">537</a></span>
<span class="normal"><a href="#__codelineno-0-538">538</a></span>
<span class="normal"><a href="#__codelineno-0-539">539</a></span>
<span class="normal"><a href="#__codelineno-0-540">540</a></span>
<span class="normal"><a href="#__codelineno-0-541">541</a></span>
<span class="normal"><a href="#__codelineno-0-542">542</a></span>
<span class="normal"><a href="#__codelineno-0-543">543</a></span>
<span class="normal"><a href="#__codelineno-0-544">544</a></span>
<span class="normal"><a href="#__codelineno-0-545">545</a></span>
<span class="normal"><a href="#__codelineno-0-546">546</a></span>
<span class="normal"><a href="#__codelineno-0-547">547</a></span>
<span class="normal"><a href="#__codelineno-0-548">548</a></span>
<span class="normal"><a href="#__codelineno-0-549">549</a></span>
<span class="normal"><a href="#__codelineno-0-550">550</a></span>
<span class="normal"><a href="#__codelineno-0-551">551</a></span>
<span class="normal"><a href="#__codelineno-0-552">552</a></span>
<span class="normal"><a href="#__codelineno-0-553">553</a></span>
<span class="normal"><a href="#__codelineno-0-554">554</a></span>
<span class="normal"><a href="#__codelineno-0-555">555</a></span>
<span class="normal"><a href="#__codelineno-0-556">556</a></span>
<span class="normal"><a href="#__codelineno-0-557">557</a></span>
<span class="normal"><a href="#__codelineno-0-558">558</a></span>
<span class="normal"><a href="#__codelineno-0-559">559</a></span>
<span class="normal"><a href="#__codelineno-0-560">560</a></span>
<span class="normal"><a href="#__codelineno-0-561">561</a></span>
<span class="normal"><a href="#__codelineno-0-562">562</a></span>
<span class="normal"><a href="#__codelineno-0-563">563</a></span>
<span class="normal"><a href="#__codelineno-0-564">564</a></span>
<span class="normal"><a href="#__codelineno-0-565">565</a></span>
<span class="normal"><a href="#__codelineno-0-566">566</a></span>
<span class="normal"><a href="#__codelineno-0-567">567</a></span>
<span class="normal"><a href="#__codelineno-0-568">568</a></span>
<span class="normal"><a href="#__codelineno-0-569">569</a></span>
<span class="normal"><a href="#__codelineno-0-570">570</a></span>
<span class="normal"><a href="#__codelineno-0-571">571</a></span>
<span class="normal"><a href="#__codelineno-0-572">572</a></span>
<span class="normal"><a href="#__codelineno-0-573">573</a></span>
<span class="normal"><a href="#__codelineno-0-574">574</a></span>
<span class="normal"><a href="#__codelineno-0-575">575</a></span>
<span class="normal"><a href="#__codelineno-0-576">576</a></span>
<span class="normal"><a href="#__codelineno-0-577">577</a></span>
<span class="normal"><a href="#__codelineno-0-578">578</a></span>
<span class="normal"><a href="#__codelineno-0-579">579</a></span>
<span class="normal"><a href="#__codelineno-0-580">580</a></span>
<span class="normal"><a href="#__codelineno-0-581">581</a></span>
<span class="normal"><a href="#__codelineno-0-582">582</a></span>
<span class="normal"><a href="#__codelineno-0-583">583</a></span>
<span class="normal"><a href="#__codelineno-0-584">584</a></span>
<span class="normal"><a href="#__codelineno-0-585">585</a></span>
<span class="normal"><a href="#__codelineno-0-586">586</a></span>
<span class="normal"><a href="#__codelineno-0-587">587</a></span>
<span class="normal"><a href="#__codelineno-0-588">588</a></span>
<span class="normal"><a href="#__codelineno-0-589">589</a></span>
<span class="normal"><a href="#__codelineno-0-590">590</a></span>
<span class="normal"><a href="#__codelineno-0-591">591</a></span>
<span class="normal"><a href="#__codelineno-0-592">592</a></span>
<span class="normal"><a href="#__codelineno-0-593">593</a></span>
<span class="normal"><a href="#__codelineno-0-594">594</a></span>
<span class="normal"><a href="#__codelineno-0-595">595</a></span>
<span class="normal"><a href="#__codelineno-0-596">596</a></span>
<span class="normal"><a href="#__codelineno-0-597">597</a></span>
<span class="normal"><a href="#__codelineno-0-598">598</a></span>
<span class="normal"><a href="#__codelineno-0-599">599</a></span>
<span class="normal"><a href="#__codelineno-0-600">600</a></span>
<span class="normal"><a href="#__codelineno-0-601">601</a></span>
<span class="normal"><a href="#__codelineno-0-602">602</a></span>
<span class="normal"><a href="#__codelineno-0-603">603</a></span>
<span class="normal"><a href="#__codelineno-0-604">604</a></span>
<span class="normal"><a href="#__codelineno-0-605">605</a></span>
<span class="normal"><a href="#__codelineno-0-606">606</a></span>
<span class="normal"><a href="#__codelineno-0-607">607</a></span>
<span class="normal"><a href="#__codelineno-0-608">608</a></span>
<span class="normal"><a href="#__codelineno-0-609">609</a></span>
<span class="normal"><a href="#__codelineno-0-610">610</a></span>
<span class="normal"><a href="#__codelineno-0-611">611</a></span>
<span class="normal"><a href="#__codelineno-0-612">612</a></span>
<span class="normal"><a href="#__codelineno-0-613">613</a></span>
<span class="normal"><a href="#__codelineno-0-614">614</a></span>
<span class="normal"><a href="#__codelineno-0-615">615</a></span>
<span class="normal"><a href="#__codelineno-0-616">616</a></span>
<span class="normal"><a href="#__codelineno-0-617">617</a></span>
<span class="normal"><a href="#__codelineno-0-618">618</a></span>
<span class="normal"><a href="#__codelineno-0-619">619</a></span>
<span class="normal"><a href="#__codelineno-0-620">620</a></span>
<span class="normal"><a href="#__codelineno-0-621">621</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-532" name="__codelineno-0-532"></a><span class="k">def</span><span class="w"> </span><span class="nf">Descale</span><span class="p">(</span>
<a id="__codelineno-0-533" name="__codelineno-0-533"></a>    <span class="n">src</span><span class="p">:</span> <span class="n">vs</span><span class="o">.</span><span class="n">VideoNode</span><span class="p">,</span>
<a id="__codelineno-0-534" name="__codelineno-0-534"></a>    <span class="n">width</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-535" name="__codelineno-0-535"></a>    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
<a id="__codelineno-0-536" name="__codelineno-0-536"></a>    <span class="n">kernel</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<a id="__codelineno-0-537" name="__codelineno-0-537"></a>    <span class="n">custom_kernel</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-538" name="__codelineno-0-538"></a>    <span class="n">taps</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
<a id="__codelineno-0-539" name="__codelineno-0-539"></a>    <span class="n">b</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
<a id="__codelineno-0-540" name="__codelineno-0-540"></a>    <span class="n">c</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span>
<a id="__codelineno-0-541" name="__codelineno-0-541"></a>    <span class="n">blur</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
<a id="__codelineno-0-542" name="__codelineno-0-542"></a>    <span class="n">post_conv</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-543" name="__codelineno-0-543"></a>    <span class="n">src_left</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
<a id="__codelineno-0-544" name="__codelineno-0-544"></a>    <span class="n">src_top</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
<a id="__codelineno-0-545" name="__codelineno-0-545"></a>    <span class="n">src_width</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-546" name="__codelineno-0-546"></a>    <span class="n">src_height</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-547" name="__codelineno-0-547"></a>    <span class="n">border_handling</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-548" name="__codelineno-0-548"></a>    <span class="n">ignore_mask</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">vs</span><span class="o">.</span><span class="n">VideoNode</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<a id="__codelineno-0-549" name="__codelineno-0-549"></a>    <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-550" name="__codelineno-0-550"></a>    <span class="n">force_h</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-551" name="__codelineno-0-551"></a>    <span class="n">force_v</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<a id="__codelineno-0-552" name="__codelineno-0-552"></a>    <span class="n">opt</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-0-553" name="__codelineno-0-553"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">vs</span><span class="o">.</span><span class="n">VideoNode</span><span class="p">:</span>
<a id="__codelineno-0-554" name="__codelineno-0-554"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_get_resize_name</span><span class="p">(</span><span class="n">kernel_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-0-555" name="__codelineno-0-555"></a>        <span class="k">if</span> <span class="n">kernel_name</span> <span class="o">==</span> <span class="s2">&quot;Decustom&quot;</span><span class="p">:</span>
<a id="__codelineno-0-556" name="__codelineno-0-556"></a>            <span class="k">return</span> <span class="s2">&quot;ScaleCustom&quot;</span>
<a id="__codelineno-0-557" name="__codelineno-0-557"></a>        <span class="k">if</span> <span class="n">kernel_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;De&quot;</span><span class="p">):</span>
<a id="__codelineno-0-558" name="__codelineno-0-558"></a>            <span class="k">return</span> <span class="n">kernel_name</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span>
<a id="__codelineno-0-559" name="__codelineno-0-559"></a>        <span class="k">return</span> <span class="n">kernel_name</span>
<a id="__codelineno-0-560" name="__codelineno-0-560"></a>
<a id="__codelineno-0-561" name="__codelineno-0-561"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">_get_descaler_name</span><span class="p">(</span><span class="n">kernel_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<a id="__codelineno-0-562" name="__codelineno-0-562"></a>        <span class="k">if</span> <span class="n">kernel_name</span> <span class="o">==</span> <span class="s2">&quot;ScaleCustom&quot;</span><span class="p">:</span>
<a id="__codelineno-0-563" name="__codelineno-0-563"></a>            <span class="k">return</span> <span class="s2">&quot;Decustom&quot;</span>
<a id="__codelineno-0-564" name="__codelineno-0-564"></a>        <span class="k">if</span> <span class="n">kernel_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;De&quot;</span><span class="p">):</span>
<a id="__codelineno-0-565" name="__codelineno-0-565"></a>            <span class="k">return</span> <span class="n">kernel_name</span>
<a id="__codelineno-0-566" name="__codelineno-0-566"></a>        <span class="k">return</span> <span class="s2">&quot;De&quot;</span> <span class="o">+</span> <span class="n">kernel_name</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">+</span> <span class="n">kernel_name</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
<a id="__codelineno-0-567" name="__codelineno-0-567"></a>
<a id="__codelineno-0-568" name="__codelineno-0-568"></a>    <span class="k">assert</span> <span class="n">width</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">height</span> <span class="o">&gt;</span> <span class="mi">0</span>
<a id="__codelineno-0-569" name="__codelineno-0-569"></a>    <span class="k">assert</span> <span class="n">opt</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<a id="__codelineno-0-570" name="__codelineno-0-570"></a>    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">vs</span><span class="o">.</span><span class="n">VideoNode</span><span class="p">)</span> <span class="ow">and</span> <span class="n">src</span><span class="o">.</span><span class="n">format</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">vs</span><span class="o">.</span><span class="n">GRAYS</span>
<a id="__codelineno-0-571" name="__codelineno-0-571"></a>
<a id="__codelineno-0-572" name="__codelineno-0-572"></a>    <span class="n">kernel</span> <span class="o">=</span> <span class="n">kernel</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span>
<a id="__codelineno-0-573" name="__codelineno-0-573"></a>
<a id="__codelineno-0-574" name="__codelineno-0-574"></a>    <span class="k">if</span> <span class="n">src_width</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-575" name="__codelineno-0-575"></a>        <span class="n">src_width</span> <span class="o">=</span> <span class="n">width</span>
<a id="__codelineno-0-576" name="__codelineno-0-576"></a>    <span class="k">if</span> <span class="n">src_height</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-0-577" name="__codelineno-0-577"></a>        <span class="n">src_height</span> <span class="o">=</span> <span class="n">height</span>
<a id="__codelineno-0-578" name="__codelineno-0-578"></a>
<a id="__codelineno-0-579" name="__codelineno-0-579"></a>    <span class="k">if</span> <span class="n">width</span> <span class="o">&gt;</span> <span class="n">src</span><span class="o">.</span><span class="n">width</span> <span class="ow">or</span> <span class="n">height</span> <span class="o">&gt;</span> <span class="n">src</span><span class="o">.</span><span class="n">height</span><span class="p">:</span>
<a id="__codelineno-0-580" name="__codelineno-0-580"></a>        <span class="n">kernel</span> <span class="o">=</span> <span class="n">_get_resize_name</span><span class="p">(</span><span class="n">kernel</span><span class="p">)</span>
<a id="__codelineno-0-581" name="__codelineno-0-581"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-0-582" name="__codelineno-0-582"></a>        <span class="n">kernel</span> <span class="o">=</span> <span class="n">_get_descaler_name</span><span class="p">(</span><span class="n">kernel</span><span class="p">)</span>
<a id="__codelineno-0-583" name="__codelineno-0-583"></a>
<a id="__codelineno-0-584" name="__codelineno-0-584"></a>    <span class="n">descaler</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">core</span><span class="o">.</span><span class="n">descale</span><span class="p">,</span> <span class="n">kernel</span><span class="p">)</span>
<a id="__codelineno-0-585" name="__codelineno-0-585"></a>    <span class="k">assert</span> <span class="nb">callable</span><span class="p">(</span><span class="n">descaler</span><span class="p">)</span>
<a id="__codelineno-0-586" name="__codelineno-0-586"></a>    <span class="n">extra_params</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="n">Callable</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-0-587" name="__codelineno-0-587"></a>    <span class="k">if</span> <span class="n">_get_descaler_name</span><span class="p">(</span><span class="n">kernel</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;Debicubic&quot;</span><span class="p">:</span>
<a id="__codelineno-0-588" name="__codelineno-0-588"></a>        <span class="n">extra_params</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-589" name="__codelineno-0-589"></a>            <span class="s2">&quot;dparams&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;b&quot;</span><span class="p">:</span> <span class="n">b</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="n">c</span><span class="p">},</span>
<a id="__codelineno-0-590" name="__codelineno-0-590"></a>        <span class="p">}</span>
<a id="__codelineno-0-591" name="__codelineno-0-591"></a>    <span class="k">elif</span> <span class="n">_get_descaler_name</span><span class="p">(</span><span class="n">kernel</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;Delanczos&quot;</span><span class="p">:</span>
<a id="__codelineno-0-592" name="__codelineno-0-592"></a>        <span class="n">extra_params</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-593" name="__codelineno-0-593"></a>            <span class="s2">&quot;dparams&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;taps&quot;</span><span class="p">:</span> <span class="n">taps</span><span class="p">},</span>
<a id="__codelineno-0-594" name="__codelineno-0-594"></a>        <span class="p">}</span>
<a id="__codelineno-0-595" name="__codelineno-0-595"></a>    <span class="k">elif</span> <span class="n">_get_descaler_name</span><span class="p">(</span><span class="n">kernel</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;Decustom&quot;</span><span class="p">:</span>
<a id="__codelineno-0-596" name="__codelineno-0-596"></a>        <span class="k">assert</span> <span class="nb">callable</span><span class="p">(</span><span class="n">custom_kernel</span><span class="p">)</span>
<a id="__codelineno-0-597" name="__codelineno-0-597"></a>        <span class="n">extra_params</span> <span class="o">=</span> <span class="p">{</span>
<a id="__codelineno-0-598" name="__codelineno-0-598"></a>            <span class="s2">&quot;dparams&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;custom_kernel&quot;</span><span class="p">:</span> <span class="n">custom_kernel</span><span class="p">},</span>
<a id="__codelineno-0-599" name="__codelineno-0-599"></a>        <span class="p">}</span>
<a id="__codelineno-0-600" name="__codelineno-0-600"></a>    <span class="n">descaled</span> <span class="o">=</span> <span class="n">descaler</span><span class="p">(</span>
<a id="__codelineno-0-601" name="__codelineno-0-601"></a>        <span class="n">src</span><span class="o">=</span><span class="n">src</span><span class="p">,</span>
<a id="__codelineno-0-602" name="__codelineno-0-602"></a>        <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
<a id="__codelineno-0-603" name="__codelineno-0-603"></a>        <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
<a id="__codelineno-0-604" name="__codelineno-0-604"></a>        <span class="n">blur</span><span class="o">=</span><span class="n">blur</span><span class="p">,</span>
<a id="__codelineno-0-605" name="__codelineno-0-605"></a>        <span class="n">post_conv</span><span class="o">=</span><span class="n">post_conv</span><span class="p">,</span>
<a id="__codelineno-0-606" name="__codelineno-0-606"></a>        <span class="n">src_left</span><span class="o">=</span><span class="n">src_left</span><span class="p">,</span>
<a id="__codelineno-0-607" name="__codelineno-0-607"></a>        <span class="n">src_top</span><span class="o">=</span><span class="n">src_top</span><span class="p">,</span>
<a id="__codelineno-0-608" name="__codelineno-0-608"></a>        <span class="n">src_width</span><span class="o">=</span><span class="n">src_width</span><span class="p">,</span>
<a id="__codelineno-0-609" name="__codelineno-0-609"></a>        <span class="n">src_height</span><span class="o">=</span><span class="n">src_height</span><span class="p">,</span>
<a id="__codelineno-0-610" name="__codelineno-0-610"></a>        <span class="n">border_handling</span><span class="o">=</span><span class="n">border_handling</span><span class="p">,</span>
<a id="__codelineno-0-611" name="__codelineno-0-611"></a>        <span class="n">ignore_mask</span><span class="o">=</span><span class="n">ignore_mask</span><span class="p">,</span>
<a id="__codelineno-0-612" name="__codelineno-0-612"></a>        <span class="n">force</span><span class="o">=</span><span class="n">force</span><span class="p">,</span>
<a id="__codelineno-0-613" name="__codelineno-0-613"></a>        <span class="n">force_h</span><span class="o">=</span><span class="n">force_h</span><span class="p">,</span>
<a id="__codelineno-0-614" name="__codelineno-0-614"></a>        <span class="n">force_v</span><span class="o">=</span><span class="n">force_v</span><span class="p">,</span>
<a id="__codelineno-0-615" name="__codelineno-0-615"></a>        <span class="n">opt</span><span class="o">=</span><span class="n">opt</span><span class="p">,</span>
<a id="__codelineno-0-616" name="__codelineno-0-616"></a>        <span class="o">**</span><span class="n">extra_params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dparams&quot;</span><span class="p">,</span> <span class="p">{}),</span>
<a id="__codelineno-0-617" name="__codelineno-0-617"></a>    <span class="p">)</span>
<a id="__codelineno-0-618" name="__codelineno-0-618"></a>
<a id="__codelineno-0-619" name="__codelineno-0-619"></a>    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">descaled</span><span class="p">,</span> <span class="n">vs</span><span class="o">.</span><span class="n">VideoNode</span><span class="p">)</span>
<a id="__codelineno-0-620" name="__codelineno-0-620"></a>
<a id="__codelineno-0-621" name="__codelineno-0-621"></a>    <span class="k">return</span> <span class="n">descaled</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright  2025, yuygfgg
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>